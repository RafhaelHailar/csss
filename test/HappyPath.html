<test-html title="border+color+items">
  <div class="
  $palette(#ec1221)
  
  $border(solid,2px)
  |*$border(double,2px,radius(0.25rem))
  |.new$border(solid,4px,radius(1rem))
  |.sale$border(dashed,3px,radius(0.5rem))
                        
 $color(grey-text)
  |*$color(primary)
  |.new$color(secondary)
  |.sale$color(tertiary)
           ">

    <div class="new">New Arrival: Product 1</div>
    <div class="sale $h(300px) $w(600px) $border(r(10px,30px,60px))">On Sale: Product 2</div>
    <div>Product 3</div>
    <div class="sale">On Sale: Product 4</div>
    <div class="new">New Arrival: Product 5</div>
  </div>
  <style>
    @layer container, items;

    @layer container {
      .\$palette\(\#ec1221\) {
        --palette-primary: #ec1221;
        --palette-secondary: oklch(from #ec1221 50 c calc(h - 60));
        --palette-tertiary: oklch(from #ec1221 50 c calc(h + 60));
        --palette-neutral: oklch(from #ec1221 50 0.02 h);
        --palette-bw-fg: 0;
        --palette-bw-bg: 1;
        --palette-text-fg: 0.23;
        --palette-text-bg: 0.99;
        --palette-box-fg: 0.23;
        --palette-box-bg: 0.92;
        --palette-flip-fg: 0.99;
        --palette-flip-bg: 0.66;
        --palette-darkflip-fg: 0.9;
        --palette-darkflip-bg: 0.33;
        --palette-chroma: 0.23746015283192687;
        --palette-pop: calc(c * 2);
      }

      .\$border\(solid\,2px\) {
        border-style: solid;
        border-width: 2px;
      }

      .\$color\(grey-text\) {
        color: oklch(from grey var(--palette-text-fg) calc(c - (c * max(var(--palette-text-fg) - .8, 0) * 5)) h);
        --background-color: oklch(from grey var(--palette-text-bg) calc(c - (c * max(var(--palette-text-bg) - .8, 0) * 5)) h);
        border-color: color-mix(in oklch, oklch(from grey var(--palette-text-bg) calc(c - (c * max(var(--palette-text-bg) - .8, 0) * 5)) h), oklch(from grey var(--palette-text-fg) calc(c - (c * max(var(--palette-text-fg) - .8, 0) * 5)) h) 30%);
      }

      .\$h\(300px\) {
        block-size: 300px;
      }

      .\$w\(600px\) {
        inline-size: 600px;
      }

      .\$border\(r\(10px\,30px\,60px\)\) {
        border-style: solid;
        border-radius: 10px 10px 60px 60px / 30px;
      }
    }

    @layer items {
      .\|\*\$border\(double\,2px\,radius\(0\.25rem\)\)>* {
        border-style: double;
        border-width: 2px;
        border-radius: 0.25rem;
      }

      .\|\.new\$border\(solid\,4px\,radius\(1rem\)\)> :where(.new) {
        border-style: solid;
        border-width: 4px;
        border-radius: 1rem;
      }

      .\|\.sale\$border\(dashed\,3px\,radius\(0\.5rem\)\)> :where(.sale) {
        border-style: dashed;
        border-width: 3px;
        border-radius: 0.5rem;
      }

      .\|\*\$color\(primary\)>* {
        color: oklch(from var(--palette-primary) var(--palette-text-fg) calc(c - (c * max(var(--palette-text-fg) - .8, 0) * 5)) h);
        --background-color: oklch(from var(--palette-primary) var(--palette-text-bg) calc(c - (c * max(var(--palette-text-bg) - .8, 0) * 5)) h);
        border-color: color-mix(in oklch, oklch(from var(--palette-primary) var(--palette-text-bg) calc(c - (c * max(var(--palette-text-bg) - .8, 0) * 5)) h), oklch(from var(--palette-primary) var(--palette-text-fg) calc(c - (c * max(var(--palette-text-fg) - .8, 0) * 5)) h) 30%);
      }

      .\|\.new\$color\(secondary\)> :where(.new) {
        color: oklch(from var(--palette-secondary) var(--palette-text-fg) calc(c - (c * max(var(--palette-text-fg) - .8, 0) * 5)) h);
        --background-color: oklch(from var(--palette-secondary) var(--palette-text-bg) calc(c - (c * max(var(--palette-text-bg) - .8, 0) * 5)) h);
        border-color: color-mix(in oklch, oklch(from var(--palette-secondary) var(--palette-text-bg) calc(c - (c * max(var(--palette-text-bg) - .8, 0) * 5)) h), oklch(from var(--palette-secondary) var(--palette-text-fg) calc(c - (c * max(var(--palette-text-fg) - .8, 0) * 5)) h) 30%);
      }

      .\|\.sale\$color\(tertiary\)> :where(.sale) {
        color: oklch(from var(--palette-tertiary) var(--palette-text-fg) calc(c - (c * max(var(--palette-text-fg) - .8, 0) * 5)) h);
        --background-color: oklch(from var(--palette-tertiary) var(--palette-text-bg) calc(c - (c * max(var(--palette-text-bg) - .8, 0) * 5)) h);
        border-color: color-mix(in oklch, oklch(from var(--palette-tertiary) var(--palette-text-bg) calc(c - (c * max(var(--palette-text-bg) - .8, 0) * 5)) h), oklch(from var(--palette-tertiary) var(--palette-text-fg) calc(c - (c * max(var(--palette-text-fg) - .8, 0) * 5)) h) 30%);
      }
    }
  </style>
</test-html>
<test-html title="border-radius">
  <style>
    @layer container, items;

    @layer container {
      .\$border\(radius\(1rem\)\) {
        border-style: solid;
        border-radius: 1rem;
      }
    }

    @layer items {}
  </style>
  <div class="$border(radius(1rem))">hello</div>
</test-html>
<test-html title="big border">
  <div class="$border(w(,1px,2px,),s(,,solid,dashed))">sunshine</div>
  <style>
    @layer container, items;

    @layer container {
      .\$border\(w\(\,1px\,2px\,\)\,s\(\,\,solid\,dashed\)\) {
        border-inline-start-width: 1px;
        border-block-end-width: 2px;
        border-block-end-style: solid;
        border-inline-end-style: dashed;
      }
    }

    @layer items {}
  </style>
</test-html>
<test-html title="border-thin">
  <div class="$border(thin)">!!!</div>
  <style>
    @layer container, items;

    @layer container {
      .\$border\(thin\) {
        border-style: solid;
        border-width: thin;
      }
    }

    @layer items {}
  </style>
</test-html>
<test-html title="$color(oklch(green,.5,.85,h))">
  <div class="$color(oklch(green,.5,.85,h))">
    hello
  </div>
  <style>
    @layer container, items;

    @layer container {
      .\$color\(oklch\(green\,\.5\,\.85\,h\)\) {
        color: oklch(from oklch(from green .5 .85 h) var(--palette-text-fg) calc(c - (c * max(var(--palette-text-fg) - .8, 0) * 5)) h);
        --background-color: oklch(from oklch(from green .5 .85 h) var(--palette-text-bg) calc(c - (c * max(var(--palette-text-bg) - .8, 0) * 5)) h);
        border-color: color-mix(in oklch, oklch(from oklch(from green .5 .85 h) var(--palette-text-bg) calc(c - (c * max(var(--palette-text-bg) - .8, 0) * 5)) h), oklch(from oklch(from green .5 .85 h) var(--palette-text-fg) calc(c - (c * max(var(--palette-text-fg) - .8, 0) * 5)) h) 30%);
      }
    }

    @layer items {}
  </style>
</test-html>
<test-html title="$color(rgb(0,12,255,0.6))">
  <div class="$color(rgb(0,12,255,0.6))">
    hello
  </div>
  <style>
    @layer container, items;

    @layer container {
      .\$color\(rgb\(0\,12\,255\,0\.6\)\) {
        color: oklch(from rgba(0 12 255 / 0.6) var(--palette-text-fg) calc(c - (c * max(var(--palette-text-fg) - .8, 0) * 5)) h);
        --background-color: oklch(from rgba(0 12 255 / 0.6) var(--palette-text-bg) calc(c - (c * max(var(--palette-text-bg) - .8, 0) * 5)) h);
        border-color: color-mix(in oklch, oklch(from rgba(0 12 255 / 0.6) var(--palette-text-bg) calc(c - (c * max(var(--palette-text-bg) - .8, 0) * 5)) h), oklch(from rgba(0 12 255 / 0.6) var(--palette-text-fg) calc(c - (c * max(var(--palette-text-fg) - .8, 0) * 5)) h) 30%);
      }
    }

    @layer items {}
  </style>
</test-html>
<test-html title="$w(min)">
  <div class="$w(min)">
    hello
  </div>
  <style>
    @layer container, items;

    @layer container {
      .\$w\(min\) {
        inline-size: min-content;
      }
    }

    @layer items {}
  </style>
</test-html>
<test-html title="$w(min,2px,max)">
  <style>
    @layer container, items;

    @layer container {

      .\$w\(min\,2px\,max\) {
        min-inline-size: min-content;
        inline-size: 2px;
        max-inline-size: max-content;
      }
    }

    @layer items {}
  </style>
  <div class="$w(min,2px,max)">
    hello
  </div>
</test-html>
<test-html title="$w(1px,2px,)">
  <style>
    @layer container, items;

    @layer container {
      .\$w\(1px\,2px\,\) {
        min-inline-size: 1px;
        inline-size: 2px;
      }
    }

    @layer items {}
  </style>
  <div class="$w(1px,2px,)">
    hello
  </div>
</test-html>
<test-html title="$h(,2px,)">
  <style>
    @layer container, items;

    @layer container {
      .\$h\(\,2px\,\) {
        block-size: 2px;
      }
    }

    @layer items {}
  </style>
  <div class="$h(,2px,)">
    hello
  </div>
</test-html>
<test-html title="$flex(row-reverse,p(1%,,3%),gap(,3rem))">
  <div class="$flex(row-reverse,p(1%,,3%),gap(,3rem))">
    hello
  </div>
  <style>
    @layer container, items;

    @layer container {
      .\$flex\(row-reverse\,p\(1\%\,\,3\%\)\,gap\(\,3rem\)\) {
        display: flex;
        word-spacing: initial;
        line-height: initial;
        white-space: initial;
        hyphens: initial;
        text-align: initial;
        text-indent: initial;
        text-transform: none;
        text-shadow: none;
        flex-direction: row-reverse;
        padding-block: 1% 3%;
        row-gap: 3rem;
      }
    }

    @layer items {}
  </style>
</test-html>
<test-html title="$flex(...)|$_flex">
  <div class="$flex(gap(4px),padding(22px,33px,44px))|$_flex(margin(,0.1px,,20%))">
    hello
  </div>
  <style>
    @layer container, items;

    @layer container {
      .\$flex\(gap\(4px\)\,padding\(22px\,33px\,44px\)\)\|\$_flex\(margin\(\,0\.1px\,\,20\%\)\) {
        display: flex;
        word-spacing: initial;
        line-height: initial;
        white-space: initial;
        hyphens: initial;
        text-align: initial;
        text-indent: initial;
        text-transform: none;
        text-shadow: none;
        gap: 4px;
        padding-block: 22px 44px;
        padding-inline: 33px;
      }
    }

    @layer items {
      .\$flex\(gap\(4px\)\,padding\(22px\,33px\,44px\)\)\|\$_flex\(margin\(\,0\.1px\,\,20\%\)\)>* {
        margin-inline: 0.1px 20%;
      }
    }
  </style>
</test-html>
<test-html title="$flex(cc)|*$_flex(margin(10px))">
  <div class="$flex(cc)|*$_flex(margin(10px))">
    hello
  </div>
  <style>
    @layer container, items;

    @layer container {
      .\$flex\(cc\)\|\*\$_flex\(margin\(10px\)\) {
        display: flex;
        word-spacing: initial;
        line-height: initial;
        white-space: initial;
        hyphens: initial;
        text-indent: initial;
        text-transform: none;
        text-shadow: none;
        text-align: center;
        place-content: center;
      }
    }

    @layer items {
      .\$flex\(cc\)\|\*\$_flex\(margin\(10px\)\)>* {
        margin: 10px;
      }
    }
  </style>
</test-html>
<test-html title="$flex(ellipsis)">
  <style>
    @layer container, items;

    @layer container {
      .\$flex\(ellipsis\) {
        display: flex;
        word-spacing: initial;
        line-height: initial;
        hyphens: initial;
        text-align: initial;
        text-indent: initial;
        text-transform: none;
        text-shadow: none;
        white-space: nowrap;
        text-overflow: ellipsis;
      }
    }

    @layer items {}
  </style>
  <div class="$flex(ellipsis)">
    hello
  </div>
</test-html>
<test-html title="$flex|items">
  <style>
    @layer container, items;

    @layer container {
      .\$flex\(gap\(1rem\)\,visible\:auto\,padding\(1rem\)\)\$w\(80\%\)\|\*\$_flex\(0shrink\,c\)\$w\(7rem\)\$h\(3rem\) {
        display: flex;
        word-spacing: initial;
        line-height: initial;
        white-space: initial;
        hyphens: initial;
        text-align: initial;
        text-indent: initial;
        text-transform: none;
        text-shadow: none;
        gap: 1rem;
        overflow: visible;
        padding: 1rem;
        inline-size: 80%;
      }
    }

    @layer items {
      .\$flex\(gap\(1rem\)\,visible\:auto\,padding\(1rem\)\)\$w\(80\%\)\|\*\$_flex\(0shrink\,c\)\$w\(7rem\)\$h\(3rem\)>* {
        flex-shrink: 0;
        text-align: initial;
        align-self: center;
        inline-size: 7rem;
        block-size: 3rem;
      }
    }
  </style>
  <div class="
    $flex(gap(1rem),visible:auto,padding(1rem))$w(80%)|*$_flex(0shrink,c)$w(7rem)$h(3rem)">
    hello
  </div>
</test-html>
<test-html title="$cursor(pointer)">
  <div class="$cursor(pointer)">
    hello
  </div>
  <style>
    @layer container, items;

    @layer container {
      .\$cursor\(pointer\) {
        cursor: pointer;
      }
    }

    @layer items {}
  </style>
</test-html>
<test-html title="$cursor(ew-resize)">
  <div class="$cursor(ew-resize)">
    hello
  </div>
  <style>
    @layer container, items;

    @layer container {
      .\$cursor\(ew-resize\) {
        cursor: ew-resize;
      }
    }

    @layer items {}
  </style>
</test-html>
<test-html title="$translate(10px)$rotate(45deg)">
  <div class="$translate(10px)$rotate(45deg)">
    hello
  </div>
  <style>
    @layer container, items;

    @layer container {
      .\$translate\(10px\)\$rotate\(45deg\) {
        transform: translate(10px) rotate(45deg);
      }
    }

    @layer items {}
  </style>
</test-html>

<test-html title="@print:hover$border(solid,2px)|@screen:valid$border(dotted,2px)|.first$border(dashed,2px)">
  <style>
    @layer container, items;

    @layer container {
      @media print {
        .\@print\:hover\$border\(solid\,2px\)\|\@screen\:valid\$border\(dotted\,2px\)\|\.first\$border\(dashed\,2px\):hover {
          border-style: solid;
          border-width: 2px;
        }
      }
    }

    @layer items {
      @media not all {
        .\@print\:hover\$border\(solid\,2px\)\|\@screen\:valid\$border\(dotted\,2px\)\|\.first\$border\(dashed\,2px\):hover> :where(:valid) {
          border-style: dotted;
          border-width: 2px;
        }
      }

      @media print {
        .\@print\:hover\$border\(solid\,2px\)\|\@screen\:valid\$border\(dotted\,2px\)\|\.first\$border\(dashed\,2px\):hover> :where(.first) {
          border-style: dashed;
          border-width: 2px;
        }
      }
    }
  </style>
  <div debugger class="@print:hover$border(solid,2px)|@screen:valid$border(dotted,2px)|.first$border(dashed,2px)">
    hello
  </div>
</test-html>
<test-html title="$font(times,serif,700,capitalize)">
  <main class="$font(times,serif,500,2px,italic)">
    <h2 class="$font(helvetica,arial,sans-serif,900,capitalize)">
      $font(fontFamily[], fontStyle, fontWeight, fontVariant, fontStretch, textTransform, letterSpacing)
    </h2>
    Notes:
    <p>
      For future maybe because they are not widely supported: text-wrap&hypens
    </p>
    <p class="$font(comic+sans,lucida,'DejaVu+Sans+Mono')">goofy</p>
  </main>
  <style>
    @layer container, items;

    @layer container {
      .\$font\(times\,serif\,500\,2px\,italic\) {
        font-family: "Times New Roman", serif;
        font-style: italic;
        font-weight: 500;
        font-variant: initial;
        font-stretch: initial;
        text-transform: initial;
        letter-spacing: 2px;
      }

      .\$font\(helvetica\,arial\,sans-serif\,900\,capitalize\) {
        font-family: "Helvetica Neue", arial, sans-serif;
        font-style: initial;
        font-weight: 900;
        font-variant: initial;
        font-stretch: initial;
        text-transform: capitalize;
        letter-spacing: initial;
      }

      .\$font\(comic\+sans\,lucida\,\'DejaVu\+Sans\+Mono\'\) {
        font-family: "Comic Sans MS", "Lucida Sans Unicode", "DejaVu Sans Mono";
        font-style: initial;
        font-weight: initial;
        font-variant: initial;
        font-stretch: initial;
        text-transform: initial;
        letter-spacing: initial;
      }
    }

    @layer items {}
  </style>
</test-html>
<test-html title="Simple Paragraph Sample ($block with container-item)">
  <div class=" 
    $w(100%)
    $em(15px)
    
    $block(s,gap(0.3em,1em))
    |*$_block(indent(15%))
    |.head$_block(indent(-5%))
    |.subheading$_block(indent(0))
    ">
    <h1 class="head">The Article Heading</h1>
    <h4 class="subheading">Sub-information... Lorem ipsum dolor sit amet. Et quia temporibus est officia ipsam a sunt
      voluptatem et autem ullam sit voluptate libero hic doloremque nobis eum dolor quas.
    </h4>
    <p>Lorem ipsum dolor sit amet. Et quia temporibus est officia ipsam a sunt voluptatem et autem ullam sit
      voluptate libero hic doloremque nobis eum dolor quas. Id magni tenetur aut exercitationem voluptates ut
      voluptates distinctio aut doloribus voluptatibus aut ipsa iusto eos asperiores velit aut rerum facilis.
      Ut itaque obcaecati et expedita voluptatibus et voluptas incidunt ut incidunt sunt vel totam laudantium eos
      velit veritatis.
    </p>
    <p>Ut incidunt cumque in perspiciatis reiciendis sed dolorum temporibus? Ut harum
      laudantium quo perferendis sint in laborum molestias qui aliquam dolore non consequatur enim aut
      eaque harum. Et minima dolores id pariatur quia ut accusamus placeat et odit quia sit cumque natus.
    </p>
    <p>Eum veniam laboriosam aut quia tempora et quas debitis et nulla minima ut autem assumenda.
      Eos nemo perferendis id libero numquam et maiores quam aut quis quis.
    </p>
  </div>
  <style>
    @layer container, items;

    @layer container {
      .\$w\(100\%\) {
        inline-size: 100%;
      }

      .\$em\(15px\) {
        font-size: 15px;
      }

      .\$block\(s\,gap\(0\.3em\,1em\)\) {
        display: block;
        white-space: initial;
        hyphens: initial;
        text-indent: initial;
        text-transform: none;
        text-shadow: none;
        text-align: justify;
        word-spacing: 0.3em;
        line-height: 1em;
      }
    }

    @layer items {
      .\|\*\$_block\(indent\(15\%\)\)>* {
        text-indent: 15%;
      }

      .\|\.head\$_block\(indent\(-5\%\)\)> :where(.head) {
        text-indent: -5%;
      }

      .\|\.subheading\$_block\(indent\(0\)\)> :where(.subheading) {
        text-indent: 0px;
      }
    }
  </style>
</test-html>

<!--
<test-html title=":dark=@media(prefers-color-scheme:dark);">
  <div css=":dark=@media(prefers-color-scheme:dark);">
    <div class=":dark$w(10px)">
      hello
    </div>
  </div>
  <style>
  </style>
</test-html>


<test-html title="color(3)">
  <div class="$color(black,#123456)$border-color(red)">
    hello
  </div>
  <style>
    @layer container, items;

    @layer container {
      .\$color\(black\,\#123456\)\$border-color\(red\) {
        color: oklch(from black var(--palette-text-fg) calc(c - (c * max(var(--palette-text-fg) - .8, 0) * 5)) h);
        --background-color: oklch(from black var(--palette-text-bg) calc(c - (c * max(var(--palette-text-bg) - .8, 0) * 5)) h);
        border-color: color-mix(in oklch, oklch(from black var(--palette-text-bg) calc(c - (c * max(var(--palette-text-bg) - .8, 0) * 5)) h), oklch(from black var(--palette-text-fg) calc(c - (c * max(var(--palette-text-fg) - .8, 0) * 5)) h) 30%);
        border-color: red;
        /*why?*/
      }
    }

    @layer items {}
  </style>
</test-html>
<test-html title="color(3b)">
  <style>
    @layer container, items;

    @layer container {
      .\$color\(black\,\#123456\,green\) {
        color: black;
        --background-color: #123456;
        border-color: green;
      }
    }

    @layer items {}
  </style>
  <div class="$color(black,#123456,green)">
    hello
  </div>
</test-html>
<test-html title="$color(black,#123456,green:yellow)">
  <style>
    @layer container, items;

    @layer container {

      .\$color\(black\,\#123456\,green\:yellow\) {
        color: black;
        --background-color: #123456;
        border-block-color: green;
        border-inline-color: yellow;
      }
    }

    @layer items {}
  </style>
  <div class="$color(black,#123456,green:yellow)">
    hello
  </div>
</test-html>
-->