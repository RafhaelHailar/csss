{
  "version": 3,
  "sources": ["src/Parser.js", "src/func.js", "src/font.js", "src/layout.js", "src/gradient.js", "src/engine.js"],
  "sourcesContent": ["export class Rule {\n  static interpret(exp, registries, renames) {\n    const { shorts: scope, medias: MEDIA_WORDS } = registries;\n    const clazz = \".\" + exp.replaceAll(/[^a-zA-Z0-9_-]/g, \"\\\\$&\");\n    const { str, media } = parseMediaQuery(exp, MEDIA_WORDS);\n    exp = str;\n    let [sel, ...exprList] = exp?.split(\"$\");\n    exprList = exprList.map(s => parseNestedExpression(s));\n    exprList = exprList.map(s => s.interpret(scope));\n    exprList &&= clashOrStack(exprList);\n    let { selector, item } = parseSelectorPipe(sel);\n    selector = clazz + selector;\n    const body = Object.entries(exprList).map(([k, v]) => {\n      //todo this doesn't work. We need to do a more thorough check for - in calc i think. need to check calc.\n      // if (v.match?.(/^[a-zA-Z][a-zA-Z0-9]+$/))\n      //   v = v.replace(/[A-Z]/g, \"-$&\").toLowerCase();  //todo this doesn't work with fonts like Arial and Helvetica.\n      k = k.replace(/[A-Z]/g, \"-$&\").toLowerCase();\n      if (CSS.supports(k, \"inherit\"))\n        if (!CSS.supports(k, v) && !CSS.supports(k = renames[k] ?? k, v))\n          throw new SyntaxError(`Invalid CSS$ value: ${k} = ${v}`);\n      //the browser might not support the property, because the property is too modern.\n      return `  ${k}: ${v};`\n    }).join(\"\\n\");\n    let rule = `${selector} {\\n${body}\\n}`;\n    let key = selector;\n    if (media) {\n      rule = `${media} { ${rule} }`;\n      key = `${media} { ${selector}`;\n    }\n    return { rule, key, item };\n  }\n}\n\nclass Expression {\n\n  constructor(name, args) {\n    this.args = args;\n    this.name = name;\n  }\n\n  interpret(scope) {\n    const cb = scope?.[this.name];\n    if (!cb)\n      throw new ReferenceError(this.name);\n    try {\n      const args = this.args.map(x =>\n        x instanceof Expression ? x.interpret(cb.scope) :\n          x === \".\" ? \"unset\" : //todo move this into the parser??\n            cb.scope?.[x] instanceof Function ? cb.scope[x].call(cb.scope) :\n              cb.scope?.[x] ? cb.scope[x] :\n                x);\n      return cb.call(scope, ...args);\n    } catch (e) {\n      if (e instanceof ReferenceError)\n        e.message = this.name + \".\" + e.message;\n      throw e;\n    }\n  }\n}\n\nconst clashOrStack = (function () {\n  const STACKABLE_PROPERTIES = {\n    background: \", \",\n    backgroundImage: \", \",\n    backgroundPosition: \", \",\n    backgroundRepeat: \", \",\n    backgroundSize: \", \",\n    backgroundOrigin: \", \",\n    backgroundClip: \", \",\n    backgroundBlendMode: \", \",\n    backgroundAttachment: \", \",\n    transition: \",\",\n    fontFamily: \",\",\n    voiceFamily: \",\",\n    textShadow: \",\",\n    boxShadow: \",\",\n    animation: \",\",\n    mask: \",\",\n    fontFeatureSettings: \",\",\n    willChange: \",\",\n\n    transform: \" \",\n    filter: \" \",\n    counterReset: \" \",\n    counterIncrement: \" \",\n    fontVariant: \" \",\n  };\n\n  return function clashOrStack(shortsI) {\n    const res = {};\n    for (const obj of shortsI) {\n      for (let [k, v] of Object.entries(obj)) {\n        if (v == null) continue;\n        if (!(k in res))\n          res[k] = v;\n        else if (k in STACKABLE_PROPERTIES)\n          res[k] += (STACKABLE_PROPERTIES[k] + v);\n        else\n          throw new SyntaxError(`CSS$ clash: ${k} = ${res[k]}  AND = ${v}.`);\n      }\n    }\n    return res;\n  }\n})();\n\nfunction varAndSpaceOperators(tokens) {\n  const res = tokens.join(\"\").split(/(---?[a-z][a-z0-9_-]*)/g);\n  for (let i = res.length - 1; i >= 0; i--) {\n    const env = res[i].startsWith(\"---\");\n    const comma = res[i + 1] == \",\";\n    const afterComma = res[i + 2];\n    if (!res[i])\n      res.splice(i, 1);\n    else if (env && i % 2 && comma && afterComma)\n      res.splice(i, 3, `env(${res[i].slice(3)}, ${res[i + 2]})`);\n    else if (env && i % 2)\n      res[i] = `env(${res[i].slice(3)})`;\n    else if (i % 2 && comma && afterComma)\n      res.splice(i, 3, `var(${res[i]}, ${res[i + 2]})`);\n    else if (i % 2)\n      res[i] = `var(${res[i]})`;\n    else\n      res[i] = res[i].replaceAll(/(?<!^|[+*/-])-|[+*/]/g, \" $& \");\n  }\n  return res;\n}\n\nfunction impliedMultiplication(tokens) {\n  for (let i = tokens.length - 2; i >= 1; i--) {\n    if (tokens[i] === \"(\" && !tokens[i - 1].match(/(min|max|clamp|[+*/-])$/))\n      tokens.splice(i, 0, \"*\");\n    else if (tokens[i] === \")\" && !tokens[i + 1].match(/^[+*/-]/))\n      tokens.splice(i + 1, 0, \"*\");\n  }\n  return tokens;\n}\n\nfunction parseVarCalc(tokens) {\n  const t2 = impliedMultiplication(tokens);\n  const t3 = varAndSpaceOperators(t2);\n  if (t3.length === 3 && t3[0] === \"(\" && t3[2] === \")\")\n    t3.shift(), t3.pop();\n  if (t3.length === 1 && t3[0].startsWith(\"var(--\"))\n    return t3[0];\n  const str = t3.join(\"\");\n  return str.includes(\" \") ? `calc(${str})` : str;\n}\n\nconst WORD = /^\\$?[a-zA-Z_][a-zA-Z0-9_]*$/;\nconst CPP = /[,()$=;{}]/.source;\nconst nCPP = /[^,()$=;{}]+/.source;\nconst QUOTE = /([`'\"])(?:\\\\.|(?!\\2).)*?\\2/.source;\nconst TOKENS = new RegExp(`(${QUOTE})|(\\\\s+)|(${CPP})|(${nCPP})`, \"g\");\n\nfunction processToken([m, , , space]) {\n  return space ? undefined : m;\n}\n\nfunction eatTokens(tokens) {\n  for (let res = [], depth = 0; tokens.length;) {\n    if (!depth && (tokens[0] === \",\" || tokens[0] === \")\"))\n      return res;\n    if (tokens[0] === \"(\") depth++;\n    if (tokens[0] === \")\") depth--;\n    res.push(tokens.shift());\n  }\n  throw \"missing ')'\";\n}\n\nfunction diveDeep(tokens, top) {\n  const res = [];\n  while (tokens.length) {\n    let a = tokens[0].match(/^\\($|^(?![\"']).*[+/*]|(?<![a-z])-|-(?![a-z])/) ?\n      parseVarCalc(eatTokens(tokens)) :\n      tokens.shift();\n    if (a[0] === \"#\")\n      a = new Expression(\"_hash\", [a.slice(1)]);\n    if (top && a === \",\") throw \"can't start with ','\";\n    if (top && a === \")\") throw \"can't start with ')'\";\n    if (a === \",\" || a === \")\") {         //empty\n      res.push(undefined);\n      if (a === \")\" && !res.length)\n        throw new SyntaxError(\"empty function not allowed in CSSs\");\n      if (a === \")\")\n        return res;\n      continue;\n    }\n    let b = tokens.shift();\n    if (top && b === \",\") throw \"top level can't list using ','\";\n    if (top && b === \")\") throw \"top level can't use ')'\";\n    if (b === \"(\" && !a.match(WORD)) throw \"invalid function name\";\n    if (b === \"(\") {\n      a = new Expression(a, diveDeep(tokens));\n      b = tokens.shift();\n    }\n    // if (a.match?.(WORD)) \n    //   a = a.replaceAll(/[A-Z]/g, c => '-' + c.toLowerCase());\n    if (b === \")\" && top && tokens.length)\n      throw \"too many ')'\";\n    if (b === \")\" || (top && b === undefined))\n      return res.push(a), res;\n    if (b == \",\")\n      res.push(a);\n    else\n      throw \"syntax error\";\n  }\n  throw \"missing ')'\";\n}\n\nfunction parseNestedExpression(short) {\n  const tokensOG = [...short.matchAll(TOKENS)].map(processToken).filter(Boolean);\n  if (tokensOG.length === 1)\n    return new Expression(tokensOG[0], []); //todo no calc top level\n  const tokens = tokensOG.slice();\n  try {\n    return diveDeep(tokens, true)[0];\n  } catch (e) {\n    //todo add the error string to the e.message\n    const i = tokensOG.length - tokens.length;\n    tokensOG.splice(i, 0, `{{{${e}}}}`);\n    const msg = tokensOG.join(\"\");\n    throw new SyntaxError(\"Invalid short: \" + msg);\n  }\n}\n\n//todo we don't support nested :not(:has(...))\nconst pseudo = /:[a-zA-Z][a-zA-Z0-9_-]*(?:\\([^)]+\\))?/.source;\nconst at = /\\[[a-zA-Z][a-zA-Z0-9_-]*(?:[$*~|^]?=(?:'(?:\\\\.|[^'\\\\])*'|\"(?:\\\\.|[^\"\\\\])*\"))?\\]/.source;\nconst tag = /[a-zA-Z][a-zA-Z0-9-]*/.source; //tag\nconst clazz = /\\.[a-zA-Z][a-zA-Z0-9_-]*/.source; //class\nconst op = />>|[>+~&,!]/.source;\nconst selectorTokens = new RegExp(`(\\\\s+)|(${op}|${pseudo}|${at}|${tag}|${clazz}|\\\\*)|(.)`, \"g\");\n\nfunction parseSelectorPipe(str) {\n  //todo body1 must have star at the end. body2 must have star at the start. The where is star doesn't work with this.\n  //todo also. I think that we should always have a star, and not end with empty. It is less confusing with \".something>*\" than \".something>\".\n  //todo this will make the selector far more readable! also, it will make the parsing of body1 and body2 easier.\n\n  let [body1, body2] = str.split(\"|\").map(parseSelectorComma);\n  body1 = body1?.join(\", \");\n  if (!body2)\n    return { selector: body1 };\n  body2 = body2?.join(\", \");\n  return { selector: body1 + \">\" + (body2 || \"*\"), item: true };\n}\n\nfunction parseSelectorComma(str) {\n  let tokens = [...str.matchAll(selectorTokens)];\n  const badToken = tokens.find(([t, ws, select, error]) => error);\n  if (badToken)\n    throw `Bad selector token: ${badToken[0]}`;\n  tokens = tokens.filter(([t, ws]) => !ws);\n  const selects = [[]];\n  for (const [t] of tokens)\n    t === \",\" ? selects.push([]) : selects.at(-1).push(t);\n  return selects.map(Selector.interpret);\n}\n\nclass Selector {\n\n  static findTail(body) {\n    const j = body.findIndex(s => s === \">\" || s === \"+\" || s === \"~\" || s === \" \");\n    if (j < 0)\n      return [body];\n    if (j === 0)\n      return [null, body];\n    const tail = body.slice(j);\n    body = body.slice(0, j);\n    return [body, tail];\n  }\n\n  static whereIsStar(select) {\n    let i = select.indexOf(\"*\");\n    if (i === select.length - 1)\n      return [select];\n    if (i === 0)\n      return [null, ...Selector.findTail(select)];\n    if (i > 0)\n      return [select.slice(0, i), ...Selector.findTail(select.slice(i + 1))];\n    const first = select[0].match(/^[>+~]$/);\n    const last = select.at(-1).match(/^[>+~]$/);\n    if (first && last)\n      throw `Relationship selector both front and back: ${select.join(\"\")}`;\n    return last ? [select] : [null, ...Selector.findTail(select)];\n  }\n\n  static superAndNots(select) {\n    return select?.map((el, i, ar) => ar[i - 1] === \"!\" ? `:not(${el})` : el)\n      .filter(el => el !== \"!\")\n      .join(\"\");\n  }\n\n  static interpret(select) {\n    if (!select.length || select.length === 1 && select[0] === \"*\")\n      return;\n    select = select.map(s => s == \">>\" ? \" \" : s);\n    let [head, body, tail] = Selector.whereIsStar(select).map(Selector.superAndNots);\n    tail &&= `:has(${tail})`;\n    head &&= `:where(${head})`;\n    const selector = [head, body, tail].filter(Boolean).join(\"\");\n    return selector ? `:where(${selector})` : selector;\n  }\n}\n\nfunction mediaComparator(str) {\n  const rx = new RegExp(\n    \"^(?:\" +\n    \"(width|height|aspectRatio|resolution|color|monochrome|colorIndex)\" +\n    \"(<=|>=|==|<|>)\" +\n    \"(\\\\d+(?:\\\\.\\\\d+)?)\" +\n    \"(?:\" +\n    \"(px|em|rem|in|cm|mm|pt|pc)|\" +\n    \"(dpi|dpcm|dppx)|\" +\n    \"(\\\\/\\\\d+(?:\\\\.\\\\d+)?)\" +\n    \")?\" +\n    \")$\");\n  const m = str.match(rx);\n  if (!m)\n    return;\n  let [, name, op, num, length, res, frac] = m;\n  const type = length ?? res ?? frac ?? \"\";\n  if (\n    (name.match(/width|height/) && !length) ||\n    (name == \"aspectRatio\" && (length || res)) ||\n    (name == \"resolution\" && !res) ||\n    (name.match(/color|monochrome|colorIndex/) && type)\n  )\n    throw new SyntaxError(`Invalid ${name}: ${num}${type}`);\n  let snake = name.replace(/[A-Z]/g, \"-$&\").toLowerCase();\n  if (op == \"<\")\n    num = parseFloat(num) - 0.01;\n  else if (op == \">\")\n    num = parseFloat(num) + 0.01;\n  if (op.includes(\"<\"))\n    snake = `max-${snake}`;\n  else if (op.includes(\">\"))\n    snake = `min-${snake}`;\n  return `${snake}: ${num}${type}`;\n}\n\nfunction parseMediaQuery(str, register) {\n  if (str[0] !== \"@\")\n    return { str };\n  if (str[1] !== \"(\") {\n    const m = str.slice(1).match(/^[a-z][a-z0-9_]*/i);\n    if (!m)\n      throw new SyntaxError(`Invalid media query: \"${str}\".`);\n    const word = m[0]\n    const t = register[word];\n    if (!t)\n      throw new ReferenceError(\"@\" + word);\n    return { str: str.slice(1 + word.length), media: `@media (${t})` };\n  }\n  let i = 2, tokens = [], level = 1;\n  for (; i < str.length; i++) {\n    if (str[i] == \",\") tokens.push(str[i]);\n    else if (str[i] == \"(\") level++, tokens.push(str[i]);\n    else if (str[i] == \")\") {\n      if (!--level) { i++; break; }\n      tokens.push(str[i]);\n    }\n    else if (str[i] === \"!\") tokens.push(\"not\");\n    else if (str[i] === \"&\") tokens.push(\"and\");\n    else if (str[i] === \"|\") tokens.push(\"or\");\n    else {\n      let start = i;\n      while (i < str.length && /[^,()&|!]/.test(str[i]))\n        i++;\n      const word = str.slice(start, i--);\n      const t = mediaComparator(word) ?? register[word];\n      if (!t)\n        throw word.match(/^[a-z][a-z_0-9]*$/i) ?\n          new ReferenceError(\"@\" + word) :\n          new SyntaxError(`Invalid media query: \"${word}\" in \"${str}\".`);\n      tokens.push(\n        t == \"all\" || t == \"print\" || t == \"screen\" ? t :\n          `(${t})`\n      );\n    }\n  }\n  return { str: str.slice(i), media: `@media ${tokens.join(\" \")}` };\n}", "//func is the basic of native css. And it shouldn't be altered. Only fixed.\n// border and font should be outside this file.\n\n//https://developer.mozilla.org/en-US/docs/Web/CSS/length#browser_compatibility\n//mdn specifies more lengths, but we don't support them yet.\nexport const LENGTHS_PER = /px|em|rem|vw|vh|vmin|vmax|cm|mm|Q|in|pt|pc|ch|ex|%/.source;\nexport const N = /-?[0-9]*\\.?[0-9]+(?:e[+-]?[0-9]+)?/.source;\nexport const NUM = `(${N})(?:\\\\/(${N}))?`; //num frac allows for -.5e+0/-122.5e-12\n\nexport function toRadiusFour(NAME, ...ar) {\n  if (!(ar instanceof Array))\n    return { [NAME]: ar };\n  if (ar.length === 1)\n    return { [NAME]: ar[0] };\n  return {\n    [NAME + \"StartStart\"]: ar[0],\n    [NAME + \"EndEnd\"]: ar[2] ?? ar[0],\n    [NAME + \"StartEnd\"]: ar[1],\n    [NAME + \"EndStart\"]: ar[3] ?? ar[1],\n  };\n}\nexport function toLogicalFour(NAME, ...ar) {\n  if (!(ar instanceof Array))\n    return { [NAME]: ar };\n  if (ar.length === 1)\n    return { [NAME]: ar[0] };\n  if (ar.length === 2)\n    return {\n      [NAME + \"Block\"]: ar[0],\n      [NAME + \"Inline\"]: ar[1],\n    };\n  if (ar.length === 3)\n    return {\n      [NAME + \"BlockStart\"]: ar[0],\n      [NAME + \"Inline\"]: ar[1],\n      [NAME + \"BlockEnd\"]: ar[2],\n    };\n  return {\n    [NAME + \"BlockStart\"]: ar[0],\n    [NAME + \"InlineStart\"]: ar[1],\n    [NAME + \"BlockEnd\"]: ar[2],\n    [NAME + \"InlineEnd\"]: ar[3]\n  };\n}\n//todo there are different ways to do the logic here..\n//todo length == 2, I think that we could have top/bottom too\n//todo length == 3, then the third becomes all the inline ones\n//todo length === 4, then forth is the inline on the end side\nfunction toLogicalEight(NAME, DEFAULT, ...args) {\n  if (!(args instanceof Array))\n    return { [NAME]: args };\n  if (args.length === 1)\n    return { [NAME]: args[0] };\n  let [bss, iss, bes, ies, bse, ise, bee, iee] = args;\n  if (args.length === 2) ise = ies = iee = iss, bse = bes = bee = bss;\n  if (args.length === 3) ise = ies = iee = iss, bse = bss, bee = bes;\n  if (args.length === 4) ise = iss, iee = ies, bse = bss, bee = bes;\n  if (args.length === 5) ise = iss, iee = ies, bee = bes;\n  if (args.length === 6) iee = ies, bee = bes;\n  if (args.length === 7) iee = ies;\n  const res = {};\n  if (bss || iss) res[NAME + \"TopLeft\"] = `${bss ?? DEFAULT} ${iss ?? DEFAULT}`;\n  if (bse || ies) res[NAME + \"TopRight\"] = `${bse ?? DEFAULT} ${ies ?? DEFAULT}`;\n  if (bes || ise) res[NAME + \"BottomLeft\"] = `${bes ?? DEFAULT} ${ise ?? DEFAULT}`;\n  if (bee || iee) res[NAME + \"BottomRight\"] = `${bee ?? DEFAULT} ${iee ?? DEFAULT}`;\n  return res;\n}\n\nexport function borderSwitch(obj) {\n  return Object.fromEntries(Object.entries(obj).map(([k, v]) => {\n    if (k === \"transition\") return [k, v];\n    const [wsr, ...dirs] = k.split(/(?=[A-Z])/);\n    return [[\"border\", ...dirs, wsr].join(\"\"), v];\n  }));\n}\n\nexport function isLength(x) {\n  if (x === \"0\") return x;\n  const m = x.match?.(new RegExp(`^(${NUM})(${LENGTHS_PER})$`));\n  if (!m) return;\n  let [, , n, frac, unit] = m;\n  return frac ? (Number(n) / Number(frac)) + unit :\n    x;\n}\n\n//scope functions start\nconst NativeCssScopeMath = {\n  min: (...args) => `min(${args.join(\",\")})`,\n  max: (...args) => `max(${args.join(\",\")})`,\n  clamp: (...args) => `clamp(${args.join(\",\")})`,\n  minmax: (...args) => `minmax(${args.join(\",\")})`,  //only used in grid, but native valid property+value check captures wrong use\n};\nfor (const v of Object.values(NativeCssScopeMath))\n  v.scope = NativeCssScopeMath;\n\nconst NativeCssScopeRepeat = (i, ...args) => `repeat(${i}, ${args.join(\" \")})`;\nNativeCssScopeRepeat.scope = NativeCssScopeMath;\nconst NativeCssScopeUrl = (...args) => `url(${args.join(\" \")})`;\n\nconst NativeCssScopeAttrCounter = {\n  counter: (...args) => `counter(${args.join(\",\")})`,\n  counters: (...args) => `counters(${args.join(\",\")})`,\n  attr: (...args) => { args[0] = args[0].replace(\":\", \" \"); return `attr(${args.join(\",\")})` },\n};\n\nconst NativeColorsFunctions = (function () {\n  function nativeCssColorFunction(name, ...args) {\n    if (args.length < 3 || args.length > 5)\n      throw new SyntaxError(`${name} accepts 3 to 5 arguments: ${args}`);\n    const SEP = name.match(/^(rgba?|hsla?)$/) ? \" \" : \" \";\n    if (args.length === 3)\n      return `${name}(${args.join(SEP)})`;\n    if (args.length === 5)\n      return `${name}(from ${args.slice(0, 4).join(\" \")} / ${args[4]})`;\n    if (CSS.supports(\"color\", args[0]))\n      return `${name}(from ${args.join(\" \")})`;\n    const a = name.match(/^(rgb|hsl)$/) ? \"a\" : \"\";\n    return `${name}${a}(${args.slice(0, 3).join(SEP)} / ${args[3]})`;\n  }\n  //todo untested!!\n  function nativeCssColorSpaceFunction(space, ...args) {\n    if (args.length < 3 || args.length > 5)\n      throw new SyntaxError(`color() accepts only 3 to 5 arguments: ${args}`);\n    const from = CSS.supports(\"color\", args[0]) && args.shift();\n    if (args.length == 4) args.splice(-1, 0, \"/\");\n    args.unshift(space);\n    if (from) args.unshift(\"from\", from);\n    return `color(${args.join(\" \")})`;\n  }\n  function nativeCssColorMixFunction(cSpace, ...args) {\n    cSpace = \"in \" + cSpace.replaceAll(\"_\", \" \"); //we don't support '_' in --var-names\n    if (args[0]?.match(/^(shorter|longer|increasing|decreasing)$/))\n      cSpace += ` ${args.shift()} hue`;\n    args = args.map(a => (a.match(/^\\d?\\d%$/i) ? \" \" : \", \") + a);\n    return `color-mix(${cSpace}${args.join(\"\")})`;\n  }\n  function _hash(a, ...others) {\n    if (others.length) throw \"hash(can only have 1 argument)\";\n    //#123 => hash(123) => #123\n    //#primary_a80 => hash(primary) => var(--color_primary_a80)\n    if (a.match(/^[a-f0-9]{3,8}$/) && a.length != 5 && a.length != 7)\n      return `#${a}`;\n    return `var(--color_${a})`;\n  }\n\n  const res = {\n    _hash,\n    rgb: (...args) => nativeCssColorFunction(\"rgb\", ...args),\n    rgba: (...args) => nativeCssColorFunction(\"rgba\", ...args),\n    hsl: (...args) => nativeCssColorFunction(\"hsl\", ...args),\n    hsla: (...args) => nativeCssColorFunction(\"hsla\", ...args),\n    hwb: (...args) => nativeCssColorFunction(\"hwb\", ...args),\n    lab: (...args) => nativeCssColorFunction(\"lab\", ...args),\n    lch: (...args) => nativeCssColorFunction(\"lch\", ...args),\n    oklab: (...args) => nativeCssColorFunction(\"oklab\", ...args),\n    oklch: (...args) => nativeCssColorFunction(\"oklch\", ...args),\n    srgb: (...args) => nativeCssColorSpaceFunction(\"srgb\", ...args),\n    srgbLinear: (...args) => nativeCssColorSpaceFunction(\"srgb-linear\", ...args),\n    displayP3: (...args) => nativeCssColorSpaceFunction(\"display-p3\", ...args),\n    a98Rgb: (...args) => nativeCssColorSpaceFunction(\"a98-rgb\", ...args),\n    prophotoRgb: (...args) => nativeCssColorSpaceFunction(\"prophoto-rgb\", ...args),\n    rec2020: (...args) => nativeCssColorSpaceFunction(\"rec2020\", ...args),\n    xyz: (...args) => nativeCssColorSpaceFunction(\"xyz\", ...args),\n    xyzD50: (...args) => nativeCssColorSpaceFunction(\"xyz-d50\", ...args),\n    xyzD65: (...args) => nativeCssColorSpaceFunction(\"xyz-d65\", ...args),\n    color: (...args) => nativeCssColorSpaceFunction(\"srgb\", ...args),\n    colorMix: nativeCssColorMixFunction,\n  };\n  for (const cb of Object.values(res))\n    cb.scope = { ...NativeCssScopeMath };\n  return res;\n})();\n\nconst ColorNames = /^(aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|rebeccapurple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|teal|thistle|tomato|transparent|turquoise|violet|wheat|white|whitesmoke|yellow|yellowgreen)$/i.source;\nconst ColorFunctionStart = /^(rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|colorMix)\\(/.source;\nconst ColorVar = /^var\\(--color_/.source;\nconst ColorHash = /^#[a-fA-F0-9]{3,8}$/.source;\nconst ColorString = new RegExp(`${ColorNames}|${ColorFunctionStart}|${ColorVar}|${ColorHash}`);\n\nexport function isColor(x) {\n  return ColorString.test(x) && x;\n}\n\n// const SpecializedNativeCssFunctions = {\n//    element: (...args) => `element(${args.join(\",\")})`,\n//    paint: (...args) => `paint(${args.join(\",\")})`,\n//    env: (...args) => `env(${args.join(\",\")})`,   //todo handle as css vars.\n//    path: (...args) => `path(${args.join(\",\")})`,\n//    imageSet: (...args) => `image-set(${args.join(\",\")})`,\n// };\n\nconst transitionFunctionSet = (function () {\n\n  function transition(props, dur, type, delay = \"\") {\n    return { transition: `${props} ${dur} ${type} ${delay}` };\n  }\n\n  return function transitionFunctionSet(...props) {\n    props = props.join(\" \");\n    return {\n      ease: (dur, delay) => transition(props, dur, \"ease\", delay),\n      easeIn: (dur, delay) => transition(props, dur, \"ease-in\", delay),\n      easeOut: (dur, delay) => transition(props, dur, \"ease-out\", delay),\n      easeInOut: (dur, delay) => transition(props, dur, \"ease-in-out\", delay),\n      linear: (dur, delay) => transition(props, dur, \"linear\", delay),\n      jumpStart: (dur, steps = 1, delay) => transition(props, dur, `jump-start(${steps})`, delay),\n      jumpEnd: (dur, steps = 1, delay) => transition(props, dur, `jump-end(${steps})`, delay),\n      jumpNone: (dur, steps = 1, delay) => transition(props, dur, `jump-none(${steps})`, delay),\n      jumpBoth: (dur, steps = 1, delay) => transition(props, dur, `jump-both(${steps})`, delay),\n      cubicBezier: (dur, x1, y1, x2, y2, delay) => transition(props, dur, `cubic-bezier(${x1},${y1},${x2},${y2})`, delay),\n    };\n  }\n})();\n//scope functions end\n\n\n//no shorts before this point\nconst NativeCssProperties = (function () {\n  const style = document.createElement('div').style;\n  const res = {};\n  for (const camel of Object.getOwnPropertyNames(style)) {\n    res[camel] = (...args) => ({ [camel]: args.join(\" \") });\n    Object.defineProperty(res[camel], \"name\", { value: camel });\n    res[camel].scope = {};\n    const name = camel.replace(/([A-Z])/g, \"-$1\").toLowerCase();\n    if (CSS.supports(name, \"min(0,1)\") || CSS.supports(name, \"min(0px,1px)\"))\n      Object.assign(res[camel].scope, NativeCssScopeMath);\n    if (CSS.supports(name, \"url(http://example.com)\"))\n      res[camel].scope.url = NativeCssScopeUrl;\n    if (CSS.supports(name, \"#123456\") || CSS.supports(name, \"#123 1px 1px\"))\n      Object.assign(res[camel].scope, NativeColorsFunctions);\n    if (CSS.supports(\"transition\", name + \" 1s linear\"))\n      Object.assign(res[camel].scope, transitionFunctionSet(name));\n    if (camel.match(/^(gridTemplateColumns|gridTemplateRows|gridTemplateAreas|gridTemplate|grid)$/))\n      res[camel].scope.repeat = NativeCssScopeRepeat;\n  }\n  //if name == \"content\"\n  res.content.scope = Object.assign(res.content.scope ?? {}, NativeCssScopeAttrCounter);\n  return res;\n})();\n\n//UNPACKED $filter scope functions\nconst NativeCssFilterFunctions = {\n  blur: (...args) => ({ filter: `blur(${args.join(\" \")})` }),\n  brightness: (...args) => ({ filter: `brightness(${args.join(\" \")})` }),\n  contrast: (...args) => ({ filter: `contrast(${args.join(\" \")})` }),\n  grayscale: (...args) => ({ filter: `grayscale(${args.join(\" \")})` }),\n  invert: (...args) => ({ filter: `invert(${args.join(\" \")})` }),\n  opacity: (...args) => ({ filter: `opacity(${args.join(\" \")})` }),\n  saturate: (...args) => ({ filter: `saturate(${args.join(\" \")})` }),\n  sepia: (...args) => ({ filter: `sepia(${args.join(\" \")})` }),\n  dropShadow: (...args) => ({ filter: `drop-shadow(${args.join(\" \")})` }),\n  hueRotate: (...args) => ({ filter: `hue-rotate(${args.join(\" \")})` }),\n};\nfor (const cb of Object.values(NativeCssFilterFunctions))\n  cb.scope = { ...NativeCssScopeMath };\nNativeCssFilterFunctions.filterUrl = (...args) => ({ filter: `url(${args.join(\" \")})` });\n\n//UNPACKED $transform scope functions\nconst NativeCssTransformFunctions = {\n  matrix: (...args) => ({ transform: `matrix(${args.join(\",\")})` }),\n  matrix3d: (...args) => ({ transform: `matrix3d(${args.join(\",\")})` }),\n  translate: (...args) => ({ transform: `translate(${args.join(\",\")})` }),\n  translate3d: (...args) => ({ transform: `translate3d(${args.join(\",\")})` }),\n  scale: (...args) => ({ transform: `scale(${args.join(\",\")})` }),\n  scale3d: (...args) => ({ transform: `scale3d(${args.join(\",\")})` }),\n  rotate: (...args) => ({ transform: `rotate(${args.join(\",\")})` }),\n  rotate3d: (...args) => ({ transform: `rotate3d(${args.join(\",\")})` }),\n  skew: (...args) => ({ transform: `skew(${args.join(\",\")})` }),\n  translateX: (...args) => ({ transform: `translateX(${args.join(\",\")})` }),\n  translateY: (...args) => ({ transform: `translateY(${args.join(\",\")})` }),\n  translateZ: (...args) => ({ transform: `translateZ(${args.join(\",\")})` }),\n  scaleX: (...args) => ({ transform: `scaleX(${args.join(\",\")})` }),\n  scaleY: (...args) => ({ transform: `scaleY(${args.join(\",\")})` }),\n  scaleZ: (...args) => ({ transform: `scaleZ(${args.join(\",\")})` }),\n  rotateX: (...args) => ({ transform: `rotateX(${args.join(\",\")})` }),\n  rotateY: (...args) => ({ transform: `rotateY(${args.join(\",\")})` }),\n  rotateZ: (...args) => ({ transform: `rotateZ(${args.join(\",\")})` }),\n  skewX: (...args) => ({ transform: `skewX(${args.join(\",\")})` }),\n  skewY: (...args) => ({ transform: `skewY(${args.join(\",\")})` }),\n};\nfor (const cb of Object.values(NativeCssTransformFunctions))\n  cb.scope = { ...NativeCssScopeMath };\n\nconst ANIMATION_FUNCTIONS = {\n  linear: (...args) => `linear(${args[0]},${args.length > 2 ? args.slice(1, -1).join(\" \") + \",\" : \"\"}${args[args.length - 1]})`,\n  ease: (...args) => `ease(${args.join(\",\")})`,\n  steps: (...args) => `steps(${args.join(\",\")})`,\n  cubicBezier: (...args) => `cubic-bezier(${args.join(\",\")})`,\n};\n\nNativeCssProperties.animation.scope = ANIMATION_FUNCTIONS;\n\nconst UnpackedNativeCssProperties = {\n  ...NativeCssProperties,\n  transform: undefined,\n  ...NativeCssTransformFunctions,\n  filter: undefined,\n  ...NativeCssFilterFunctions,\n};\n\n\n\n//$bg\nfunction bgImpl(...args) {\n  const res = {\n    backgroundImage: undefined,\n    backgroundPosition: \"0% 0%\",\n    backgroundRepeat: \"repeat\",\n    backgroundSize: \"auto auto\",\n    backgroundOrigin: \"padding-box\",\n    backgroundClip: \"border-box\",\n    backgroundBlendMode: \"normal\",\n    backgroundAttachment: \"scroll\",\n  };\n  const colors = [], args2 = [];\n  for (const a of args)\n    (a && typeof a === 'object') ? Object.assign(res, a) :\n      isColor(a) ? colors.push(a) :\n        args2.push(a.replaceAll(/[A-Z]/g, ' $&').toLowerCase());\n  return { res, colors, args2 };\n}\n\nfunction doGradient(name, ...args) {\n  const { res, colors, args2 } = bgImpl(...args);\n  if (res.stops) {\n    for (let i = 0; i < res.stops?.length && i < colors.length; i++)\n      colors[i] += \" \" + res.stops[i];\n    delete res.stops;\n  }\n  res.backgroundImage = `${name}-gradient(${[...args2, ...colors].join(\",\")})`;\n  return res;\n}\n\nfunction bg(...args) {\n  const { res, colors, args2 } = bgImpl(...args);\n  if (!colors.length && !args2.length)\n    throw new SyntaxError(`$bg(${args.join(\",\")}) is missing a color or url argument.`);\n  if (colors.length > 1)\n    throw new SyntaxError(`use $bg(color1,left)$bg(color2,right) for layered backgrounds, not $bg(${colors.join(\",\")}).`);\n  if (args2.length > 1)\n    throw new SyntaxError(`use $bg(url1)$bg(url2) for layered backgrounds, not $bg(${args2.join(\",\")}).`);\n  if (colors.length && args2.length)\n    throw new SyntaxError(`use $bg(color)$bg(url) for layered backgrounds, not $bg(${colors.join(\",\")},${args2.join(\",\")}).`);\n  res.backgroundImage = colors.length ? `linear-gradient(${colors[0]})` : args2[0];\n  return res;\n}\n\nconst BackgroundFunctions = {\n  linear: (...args) => doGradient(\"linear\", ...args),\n  radial: (...args) => doGradient(\"radial\", ...args),\n  conic: (...args) => doGradient(\"conic\", ...args),\n  repeatingLinear: (...args) => doGradient(\"repeating-linear\", ...args),\n  repeatingRadial: (...args) => doGradient(\"repeating-radial\", ...args),\n  repeatingConic: (...args) => doGradient(\"repeating-conic\", ...args),\n  bg,\n  background: bg,\n};\n\nfor (const k in BackgroundFunctions)\n  BackgroundFunctions[k].scope = {\n    stops: (...args) => ({ stops: args }),\n    ...NativeCssProperties.background.scope,\n    ...NativeCssScopeMath, //todo do we need this, or is it covered by background above?\n    pos: (block = \"0\", inline = \"0\") => ({ backgroundPosition: `${block[0] === \"-\" ? `bottom ${block.slice(1)}` : block} ${inline[0] === \"-\" ? `right ${inline.slice(1)}` : inline}` }),\n    position: (block = \"0\", inline = \"0\") => ({ backgroundPosition: `${block[0] === \"-\" ? `bottom ${block.slice(1)}` : block} ${inline[0] === \"-\" ? `right ${inline.slice(1)}` : inline}` }),\n    size: (inline, block = \"auto\") => ({ backgroundSize: `${inline} ${block}` }),\n    top: { backgroundPosition: \"top\" },\n    bottom: { backgroundPosition: \"bottom\" },\n    left: { backgroundPosition: \"left\" },\n    right: { backgroundPosition: \"right\" },\n    center: { backgroundPosition: \"center\" },\n    topLeft: { backgroundPosition: \"top left\" },\n    topRight: { backgroundPosition: \"top right\" },\n    bottomLeft: { backgroundPosition: \"bottom left\" },\n    bottomRight: { backgroundPosition: \"bottom right\" },\n    topCenter: { backgroundPosition: \"top center\" },\n    bottomCenter: { backgroundPosition: \"bottom center\" },\n    leftCenter: { backgroundPosition: \"left center\" },\n    rightCenter: { backgroundPosition: \"right center\" },\n    repeatX: { backgroundRepeat: \"repeat-x\" },\n    repeatY: { backgroundRepeat: \"repeat-y\" },\n    space: { backgroundRepeat: \"space\" },\n    round: { backgroundRepeat: \"round\" },\n    noRepeat: { backgroundRepeat: \"no-repeat\" },\n    cover: { backgroundSize: \"cover\" },\n    contain: { backgroundSize: \"contain\" },\n    contentBox: { backgroundOrigin: \"content-box\" },\n    borderBox: { backgroundOrigin: \"border-box\" },\n    clipPaddingBox: { backgroundClip: \"padding-box\" },\n    clipContentBox: { backgroundClip: \"content-box\" },\n    clipText: { backgroundClip: \"text\" },\n    clipBorderArea: { backgroundClip: \"border-area\" },\n    multiply: { backgroundBlendMode: \"multiply\" },\n    screen: { backgroundBlendMode: \"screen\" },\n    overlay: { backgroundBlendMode: \"overlay\" },\n    darken: { backgroundBlendMode: \"darken\" },\n    lighten: { backgroundBlendMode: \"lighten\" },\n    colorDodge: { backgroundBlendMode: \"color-dodge\" },\n    colorBurn: { backgroundBlendMode: \"color-burn\" },\n    hardLight: { backgroundBlendMode: \"hard-light\" },\n    softLight: { backgroundBlendMode: \"soft-light\" },\n    difference: { backgroundBlendMode: \"difference\" },\n    exclusion: { backgroundBlendMode: \"exclusion\" },\n    hue: { backgroundBlendMode: \"hue\" },\n    saturation: { backgroundBlendMode: \"saturation\" },\n    color: { backgroundBlendMode: \"color\" },\n    luminosity: { backgroundBlendMode: \"luminosity\" },\n    scroll: { backgroundAttachment: \"scroll\" },\n    fixed: { backgroundAttachment: \"fixed\" },\n    local: { backgroundAttachment: \"local\" },\n  };\n\n//border: 2px 4px solid red blue;\n//$border(w(2px,4px),solid,c(red,blue))\n//$border(2px,solid,red)\nfunction border(...args) {\n  args = args.map(a => {\n    if (!(typeof a === \"string\")) return a;\n    if (isColor(a))\n      return { Color: a };\n    if (isLength(a) || a.match(/(^(min|max|clamp)\\()/))\n      return { Width: a };\n    return a; //todo this throws, right?\n  });\n  return borderSwitch(Object.assign({ Style: \"solid\" }, ...args));\n}\n\nconst borderColor = toLogicalFour.bind(null, \"Color\");\nborderColor.scope = NativeCssProperties.borderColor.scope;\nconst borderWidth = toLogicalFour.bind(null, \"Width\");\nborderWidth.scope = NativeCssProperties.borderWidth.scope;\nconst borderRadius = toRadiusFour.bind(null, \"Radius\");\nborderRadius.scope = NativeCssProperties.borderRadius.scope;\nconst borderRadius8 = toLogicalEight.bind(null, \"Radius\", 0);\nborderRadius8.scope = NativeCssProperties.borderRadius.scope;\nconst borderStyle = toLogicalFour.bind(null, \"Style\");\nborderStyle.scope = NativeCssProperties.borderStyle.scope;\n\nborder.scope = {\n  width: borderWidth,\n  w: borderWidth,\n  style: borderStyle,\n  s: borderStyle,\n  radius: borderRadius,\n  r: borderRadius,\n  r4: borderRadius,\n  r8: borderRadius8,\n  color: borderColor,\n  c: borderColor,\n  ...transitionFunctionSet(\"border-width\"),\n  solid: { Style: \"solid\" },\n  dotted: { Style: \"dotted\" },\n  dashed: { Style: \"dashed\" },\n  double: { Style: \"double\" },\n  groove: { Style: \"groove\" },\n  ridge: { Style: \"ridge\" },\n  inset: { Style: \"inset\" },\n  outset: { Style: \"outset\" },\n  hidden: { Style: \"hidden\" },\n  none: { Style: \"none\" },\n  thin: { Width: \"thin\" },\n  medium: { Width: \"medium\" },\n  thick: { Width: \"thick\" },\n};\n\n// NativeCssProperties.borderColor = (...args) => borderSwitch(toLogicalFour(\"Color\", ...args));\n// NativeCssProperties.borderColor.scope = NativeCssProperties.color.scope;\n\n//todo do something like this instead:\n//   12><--var\n//   12<>--var\n//   45>23>--var\n\n//$w(50%)\n//$w(1,2) not allowed, only 1 or 3 arguments.\n//$w(max(30em,35%),50%,min(60cm,80vw,100%))\nfunction toSize(NAME, ...args) {\n  args = args.map(a => a?.replace(/^(min|max)$/, \"$&-content\"));\n  if (args.length === 1)\n    return { [NAME]: args[0] };\n  if (args.length === 3) {\n    const NAME2 = NAME.replace(/^./, c => c.toUpperCase());\n    return {\n      [`min${NAME2}`]: args[0],\n      [NAME]: args[1],\n      [`max${NAME2}`]: args[2]\n    };\n  } throw new SyntaxError(`$${NAME} accepts only 1 or 3 arguments: ${args}`);\n}\nconst width = (...args) => toSize(\"inlineSize\", ...args);\nconst height = (...args) => toSize(\"blockSize\", ...args);\nwidth.scope = NativeCssProperties.width.scope;\nheight.scope = NativeCssProperties.height.scope;\n\n\n//text decorations\n//sequence based\n//color defaults to --color_textdecorationcolor, then currentcolor\n//todo work with color inheritance happening here..\nfunction textDecoration(\n  textDecorationLine = \"underline\",\n  textDecorationStyle = \"unset\",\n  textDecorationThickness = \"unset\",\n  textDecorationColor = \"var(--color_textdecorationcolor, currentcolor)\") {\n  return { textDecorationLine, textDecorationThickness, textDecorationStyle, textDecorationColor };\n}\ntextDecoration.scope = {\n  ...NativeCssProperties.textDecorationThickness.scope,\n  ...NativeCssProperties.textDecorationColor.scope,\n}\nconst textDecorations = {\n  dashedOverLine: function (...args) { return textDecoration.call(this, \"overline\", \"dashed\", ...args); },\n  dashedOverLineThrough: function (...args) { return textDecoration.call(this, \"overline line-through\", \"dashed\", ...args); },\n  dashedOverUnderLine: function (...args) { return textDecoration.call(this, \"overline underline\", \"dashed\", ...args); },\n  dashedOverUnderLineThrough: function (...args) { return textDecoration.call(this, \"overline underline line-through\", \"dashed\", ...args); },\n  dashedLineThrough: function (...args) { return textDecoration.call(this, \"line-through\", \"dashed\", ...args); },\n  dashedUnderLine: function (...args) { return textDecoration.call(this, \"underline\", \"dashed\", ...args); },\n  dashedUnderLineThrough: function (...args) { return textDecoration.call(this, \"underline line-through\", \"dashed\", ...args); },\n  dottedOverLine: function (...args) { return textDecoration.call(this, \"overline\", \"dotted\", ...args); },\n  dottedOverLineThrough: function (...args) { return textDecoration.call(this, \"overline line-through\", \"dotted\", ...args); },\n  dottedOverUnderLine: function (...args) { return textDecoration.call(this, \"overline underline\", \"dotted\", ...args); },\n  dottedOverUnderLineThrough: function (...args) { return textDecoration.call(this, \"overline underline line-through\", \"dotted\", ...args); },\n  dottedLineThrough: function (...args) { return textDecoration.call(this, \"line-through\", \"dotted\", ...args); },\n  dottedUnderLine: function (...args) { return textDecoration.call(this, \"underline\", \"dotted\", ...args); },\n  dottedUnderLineThrough: function (...args) { return textDecoration.call(this, \"underline line-through\", \"dotted\", ...args); },\n  doubleOverLine: function (...args) { return textDecoration.call(this, \"overline\", \"double\", ...args); },\n  doubleOverLineThrough: function (...args) { return textDecoration.call(this, \"overline line-through\", \"double\", ...args); },\n  doubleOverUnderLine: function (...args) { return textDecoration.call(this, \"overline underline\", \"double\", ...args); },\n  doubleOverUnderLineThrough: function (...args) { return textDecoration.call(this, \"overline underline line-through\", \"double\", ...args); },\n  doubleLineThrough: function (...args) { return textDecoration.call(this, \"line-through\", \"double\", ...args); },\n  doubleUnderLine: function (...args) { return textDecoration.call(this, \"underline\", \"double\", ...args); },\n  doubleUnderLineThrough: function (...args) { return textDecoration.call(this, \"underline line-through\", \"double\", ...args); },\n  wavyOverLine: function (...args) { return textDecoration.call(this, \"overline\", \"wavy\", ...args); },\n  wavyOverLineThrough: function (...args) { return textDecoration.call(this, \"overline line-through\", \"wavy\", ...args); },\n  wavyOverUnderLine: function (...args) { return textDecoration.call(this, \"overline underline\", \"wavy\", ...args); },\n  wavyOverUnderLineThrough: function (...args) { return textDecoration.call(this, \"overline underline line-through\", \"wavy\", ...args); },\n  wavyLineThrough: function (...args) { return textDecoration.call(this, \"line-through\", \"wavy\", ...args); },\n  wavyUnderLine: function (...args) { return textDecoration.call(this, \"underline\", \"wavy\", ...args); },\n  wavyUnderLineThrough: function (...args) { return textDecoration.call(this, \"underline line-through\", \"wavy\", ...args); },\n  overLine: function (...args) { return textDecoration.call(this, \"overline\", \"solid\", ...args); },\n  overLineThrough: function (...args) { return textDecoration.call(this, \"overline line-through\", \"solid\", ...args); },\n  overUnderLine: function (...args) { return textDecoration.call(this, \"overline underline\", \"solid\", ...args); },\n  overUnderLineThrough: function (...args) { return textDecoration.call(this, \"overline underline line-through\", \"solid\", ...args); },\n  lineThrough: function (...args) { return textDecoration.call(this, \"line-through\", \"solid\", ...args); },\n  underLine: function (...args) { return textDecoration.call(this, \"underline\", \"solid\", ...args); },\n  underLineThrough: function (...args) { return textDecoration.call(this, \"underline line-through\", \"solid\", ...args); },\n  blink: function (...args) { return textDecoration.call(this, \"blink\", null, ...args); },\n  grammarError: function (...args) { return textDecoration.call(this, \"grammar-error\", null, ...args); },\n  spellingError: function (...args) { return textDecoration.call(this, \"spelling-error\", null, ...args); },\n}\nfor (let func of Object.values(textDecorations))\n  func.scope = textDecoration.scope;\n\nexport default {\n  ...UnpackedNativeCssProperties,\n\n  border,\n  borderWidth: undefined,\n  borderStyle: undefined,\n  borderRadius: undefined,\n  // borderColor: undefined,\n\n  em: NativeCssProperties.fontSize,\n  ...BackgroundFunctions,\n  w: width,\n  h: height,\n  width,\n  height,\n\n  textDecoration,\n  ...textDecorations,\n};\n", "import { isLength } from \"./func.js\";\n\n//$font(\"Arial+Black\",serif,bold,small-caps,ultra-condensed,capitalize,sans-serif,oblique(-10deg),ui-sans-serif)\n//$font(\"Arial+Black\",sans-serif,ui-sans-serif,900,small-caps,ultra-condensed,capitalize,oblique(10deg))\nfunction font(...args) {\n  const res = {\n    fontStyle: \"unset\",\n    fontWeight: \"unset\",\n    fontVariantCaps: \"unset\",\n    fontStretch: \"unset\",\n    textTransform: \"unset\",\n    letterSpacing: \"unset\"\n  };\n  args = args.map(a => {\n    if (a instanceof Object) return a;\n    if (a.match(/^[1-9]00$/)) return { fontWeight: a };\n    if (isLength(a)) return { letterSpacing: a };\n    if (a[0] === \"'\" || a[0] === '\"') return { fontFamily: a.replaceAll(\"+\", \" \") };\n    if (a.startsWith(\"url(\")) return { fontFamily: a };\n    throw `Unrecognized font property: ${a}`;\n  });\n  Object.assign(res, ...args);\n  res.fontFamily = args.map(a => a.fontFamily).filter(Boolean).join(\", \");\n  return res;\n}\nfont.scope = {\n  url: (...args) => `url(${args.join(\" \")})`,\n  weight: a => ({ fontWeight: a }),\n  style: a => ({ fontStyle: a }),\n  variant: a => ({ fontVariant: a }),\n  stretch: a => ({ fontStretch: a }),\n  transform: a => ({ textTransform: a }),\n  letterSpacing: a => ({ letterSpacing: a }),\n}\n\n//adding words\n\nconst WORDS = {\n  font: {\n    Family: {\n      serif: \"serif\",\n      monospace: \"monospace\",\n      cursive: \"cursive\",\n      fantasy: \"fantasy\",\n      emoji: \"emoji\",\n      math: \"math\",\n      fangsong: \"fangsong\",\n      ui: \"ui\",\n\n      //Pascal no translate\n      Arial: \"Arial\",\n      Calibri: \"Calibri\",\n      Cambria: \"Cambria\",\n      Candara: \"Candara\",\n      Consolas: \"Consolas\",\n      Constantia: \"Constantia\",\n      Corbel: \"Corbel\",\n      Georgia: \"Georgia\",\n      Impact: \"Impact\",\n      Tahoma: \"Tahoma\",\n      Verdana: \"Verdana\",\n      Garamond: \"Garamond\",\n      Helvetica: \"Helvetica\",\n      Geneva: \"Geneva\",\n      Didot: \"Didot\",\n      Optima: \"Optima\",\n      Futura: \"Futura\",\n      Baskerville: \"Baskerville\",\n      Copperplate: \"Copperplate\",\n      Menlo: \"Menlo\",\n      Monaco: \"Monaco\",\n      Chalkboard: \"Chalkboard\",\n      Wingdings: \"Wingdings\",\n      Webdings: \"Webdings\",\n      Symbol: \"Symbol\",\n      BlinkMacSystemFont: \"BlinkMacSystemFont\",\n      Roboto: \"Roboto\",\n\n      //Pascal add spaces\n      ArialBlack: \"Arial Black\",\n      AndaleMono: \"Andale Mono\",\n      PalatinoTimes: \"Palatino Times\",\n      DejaVuSans: \"DejaVu Sans\",\n      DejaVuSerif: \"DejaVu Serif\",\n      DejaVuSansMono: \"DejaVu Sans Mono\",\n      LiberationSans: \"Liberation Sans\",\n      LiberationSerif: \"Liberation Serif\",\n      LiberationMono: \"Liberation Mono\",\n      NimbusRomanNo9L: \"Nimbus Roman No9 L\",\n      NimbusSansL: \"Nimbus Sans L\",\n      NimbusMonoL: \"Nimbus Mono L\",\n      CenturySchoolbookL: \"Century Schoolbook L\",\n      URWChanceryL: \"URW Chancery L\",\n      URWGothicL: \"URW Gothic L\",\n      URWBookmanL: \"URW Bookman L\",\n      ComicSansMS: \"Comic Sans MS\",\n      AppleChancery: \"Apple Chancery\",\n      MarkerFelt: \"Marker Felt\",\n      LucidaConsole: \"Lucida Console\",\n      LucidaSansUnicode: \"Lucida Sans Unicode\",\n      PalatinoLinotype: \"Palatino Linotype\",\n      SegoeUI: \"Segoe UI\",\n      TimesNewRoman: \"Times New Roman\",\n      TrebuchetMS: \"Trebuchet MS\",\n      LucidaGrande: \"Lucida Grande\",\n      HoeflerText: \"Hoefler Text\",\n      AmericanTypewriter: \"American Typewriter\",\n      GillSans: \"Gill Sans\",\n      BookAntiqua: \"Book Antiqua\",\n      CenturyGothic: \"Century Gothic\",\n      FranklinGothicMedium: \"Franklin Gothic Medium\",\n      BookmanOldStyle: \"Bookman Old Style\",\n      BrushScriptMT: \"Brush Script MT\",\n      HelveticaNeue: \"Helvetica Neue\",\n      CourierMonaco: \"Courier Monaco\",\n\n      //Pascal to kebab\n      uiSerif: \"ui-serif\",\n      uiSansSerif: \"ui-sans-serif\",\n      uiMonospace: \"ui-monospace\",\n      uiRounded: \"ui-rounded\",\n      uiEmoji: \"ui-emoji\",\n      uiFangsong: \"ui-fangsong\",\n      sansSerif: \"sans-serif\",\n      systemUi: \"system-ui\",\n      AppleSystem: \"-apple-system\",\n\n      //added\n      CourierNew: \"Courier New\",\n      Palatino: \"Palatino\",\n      // Palatino: \"Palatino Linotype\",\n      Bookman: \"Bookman\",\n      GoudyOldStyle: \"Goudy Old Style\",\n      AvantGarde: \"Avant Garde\",\n      ArialNarrow: \"Arial Narrow\",\n      ArialRoundedMTB: \"Arial Rounded MT Bold\",\n      MSSansSerif: \"MS Sans Serif\",\n      Ubuntu: \"Ubuntu\",\n      Cantarell: \"Cantarell\",\n      DroidSans: \"Droid Sans\",\n      DroidSerif: \"Droid Serif\",\n      DroidSansMono: \"Droid Sans Mono\",\n\n      //KNOWN BAD FONTS\n      Comic: \"Comic Sans MS\",\n      Times: \"Times New Roman\",\n      Courier: \"Courier New\",\n      Lucida: \"Lucida Sans Unicode\",\n    },\n    Weight: {\n      bold: \"bold\",\n      bolder: \"bolder\",\n      lighter: \"lighter\",\n    },\n    Style: {\n      italic: \"italic\",\n      oblique: \"oblique\",\n    },\n    Variants: {\n      smallCaps: \"small-caps\",\n      allSmallCaps: \"all-small-caps\",\n      petiteCaps: \"petite-caps\",\n      allPetiteCaps: \"all-petite-caps\",\n      unicase: \"unicase\",\n      titlingCaps: \"titling-caps\",\n    },\n    Stretch: {\n      ultraCondensed: \"ultra-condensed\",\n      extraCondensed: \"extra-condensed\",\n      condensed: \"condensed\",\n      semiCondensed: \"semi-condensed\",\n      semiExpanded: \"semi-expanded\",\n      expanded: \"expanded\",\n      extraExpanded: \"extra-expanded\",\n      ultraExpanded: \"ultra-expanded\",\n    }\n    //  stretch(.) => { fontStretch: \"normal\" },\n    //  style(.)=> { fontStyle: \"unset\" },\n    //  variant(.) => { fontVariant: \"unset\" },\n    //  transform(.) => { textTransform: \"unset\" },\n    //  letterSpacing(.) => { letterSpacing: \"unset\" },\n  },\n  text: {\n    Transform: {\n      capitalize: \"capitalize\",\n      allcaps: \"uppercase\",\n      smallcaps: \"lowercase\",\n      uppercase: \"uppercase\",\n      lowercase: \"lowercase\",\n      \"full-width\": \"full-width\",\n      \"full-size-kana\": \"full-size-kana\",\n      \"math-auto\": \"math-auto\",\n    }\n  }\n};\nfunction* fontWords() {\n  for (let [main, one] of Object.entries(WORDS))\n    for (let [prop, two] of Object.entries(one))\n      for (let [short, value] of Object.entries(two))\n        yield { prop: main + prop, short, value };\n}\n//0. adding all fonts under small first letter too Arial => arial, Times => times, etc.\nfor (let short in WORDS.font.Family)\n  WORDS.font.Family[short[0].toLowerCase() + short.slice(1)] = WORDS.font.Family[short];\n\n//1. adding words under the font.scope\nfor (let { short, prop, value } of fontWords())\n  font.scope[short] = font.scope[short[0].toLowerCase() + short.slice()] = { [prop]: value };\n\n//2. adding words as superShorts.\nconst SHORTS = { font };\nfor (let { short, prop, value } of fontWords()) {\n  SHORTS[short] = function () { return { [prop]: value }; } //todo i can't just use objects here, right?\n  //question, should the superShort words be added as the full font? Or just using their property?\n  // SHORTS[short] = function (...args) { return this.font({ [prop]: value }, ...args); }\n  // SHORTS[short].scope = font.scope;\n  Object.defineProperty(SHORTS[short], \"name\", { value: short });\n  SHORTS[short]\n}\n\nexport default SHORTS;", "import { toLogicalFour, default as AllFunctions } from \"./func.js\";\n\n//todo rename the text block layout unit to $page\nfunction defaultLayout(display, ...args) {\n  const containerDefaults = {\n    wordSpacing: \"unset\",\n    lineHeight: \"unset\",\n    whiteSpace: \"unset\",\n    hyphens: \"unset\",\n    textAlign: \"unset\",\n    textIndent: \"unset\",\n  };\n  return Object.assign({ display }, containerDefaults, ...args);\n}\n\nconst O2 = \"(?:(visible|hidden|clip)|(auto|scroll)(?:-snap(?:-mandatory)?)?)\";\nconst OVERFLOW2 = new RegExp(`^${O2}(?::${O2})?$`); //$block(hidden:scroll-snap-mandatory,...)\nfunction overflow(a) {\n  const m = a.match(OVERFLOW2);\n  if (!m) return;\n  let [_, vhc, overflowInline = vhc, snap, man, vhc2, overflowBlock = vhc2, snap2, man2] = m;\n  const res = (overflowBlock && (overflowBlock !== overflowInline && snap2 !== snap && man !== man2)) ?\n    { overflowX: overflowInline, overflowY: overflowBlock } :\n    { overflow: overflowInline };\n  if (snap || snap2) {\n    res.scrollSnapType = snap && snap2 ? \"both\" : snap ? \"x\" : \"y\";\n    if (man || man2) res.scrollSnapType += \" mandatory\";\n  }\n  return res;\n}\n\nfunction checkNoArgs(args) {\n  if (args.some(a => a != null)) throw `This $short takes no arguments: ${args.join(\", \")}\")}`;\n}\n\nfunction lineClamp(num) {\n  return {\n    \"display\": \"-webkit-box\",\n    WebkitLineClamp: num,\n    WebkitBoxOrient: \"vertical\",\n    overflowBlock: \"hidden\",\n  }\n}\n\nconst TextAlignAliases = {\n  a: \"start\",\n  b: \"end\",\n  c: \"center\",\n  s: \"justify\",\n  u: \"unset\",\n  v: \"unset\",\n  w: \"unset\",\n  _: \"unset\",\n  \".\": \"unset\",\n};\nconst AlignAliases = {\n  a: \"start\",\n  b: \"end\",\n  c: \"center\",\n  s: \"stretch\",\n  u: \"space-around\", //narrow stretch\n  v: \"space-evenly\", //medium stretch\n  w: \"space-between\",//wide stretch\n  _: \"baseline\",     //todo what about \"(first|last) baseline\"\n  \".\": \"unset\",\n};\n\nconst AlignItemsFlexAliases = {\n  a: \"start\",\n  b: \"end\",\n  c: \"center\",\n  s: \"stretch\",\n  u: \"stretch\",\n  v: \"stretch\",\n  w: \"stretch\",\n  _: \"start\",\n  \".\": \"unset\",\n};\n\n// todo this doesn't need to be in the scope here.\n//todo because we only \n//todo move this into the NativeCssPropertis in func.js\nconst LAYOUT = {\n  padding: toLogicalFour.bind(null, \"padding\"),\n  p: toLogicalFour.bind(null, \"padding\"),\n  scrollPadding: toLogicalFour.bind(null, \"scroll-padding\"),\n  textAlign: AllFunctions.textAlign,\n  shy: { hyphens: \"manual\" },\n  hyphens: { hyphens: \"auto\" },\n  \"break-word\": { overflowWrap: \"break-word\" },\n  \"break-anywhere\": { overflowWrap: \"anywhere\" },\n  \"nowrap\": { whiteSpace: \"nowrap\" },\n  \"pre-wrap\": { whiteSpace: \"pre-wrap\" },\n  \"pre-line\": { whiteSpace: \"pre-line\" },\n  \"pre\": { whiteSpace: \"pre\" },\n  \"break-spaces\": { whiteSpace: \"break-spaces\" },\n  \"ellipsis\": { whiteSpace: \"nowrap\", textOverflow: \"ellipsis\" },\n  \"break-all\": { wordBreak: \"break-all\" },\n  \"keep-all\": { wordBreak: \"keep-all\" },\n};\n\nconst _LAYOUT = {\n  margin: toLogicalFour.bind(null, \"margin\"),\n  m: toLogicalFour.bind(null, \"margin\"),\n  scrollMargin: toLogicalFour.bind(null, \"scroll-margin\"),\n  textAlign: AllFunctions.textAlign,\n  w: AllFunctions.width,\n  h: AllFunctions.height,\n  width: AllFunctions.width,\n  height: AllFunctions.height,\n  // verticalAlign: AllFunctions.verticalAlign, //todo is this allowed for grid and flex?\n};\n\nfunction toGap(...args) {\n  if (args.length === 1)\n    return { gap: args[0] };\n  if (args.length === 2)\n    return { columnGap: args[0], rowGap: args[1] };\n  throw new SyntaxError(\"gap only accepts 1 or 2 arguments\");\n}\nconst GAP = { gap: toGap, g: toGap };\n\nfunction blockGap(wordSpacing, lineHeight) {\n  return { wordSpacing, lineHeight };\n}\n\nfunction block(...args) {\n  args = args.map(a => {\n    if (typeof a !== \"string\") return a;\n    let m;\n    if (m = overflow(a))\n      return m;\n    if (m = a.match(/^[abcs]$/))\n      return ({ textAlign: TextAlignAliases[a[0]] });\n  });\n  return defaultLayout(\"block\", ...args);\n}\nblock.scope = {\n  ...LAYOUT,\n  lineClamp,\n  clamp: lineClamp,\n  gap: blockGap,\n  g: blockGap,\n};\nfunction _block(...args) {\n  for (const a of args)\n    if (!(a instanceof Object))\n      throw new ReferenceError(a);\n  return Object.assign(...args);\n}\n_block.scope = {\n  ..._LAYOUT,\n  \"float-start\": { float: \"inline-start\" },\n  \"float-end\": { float: \"inline-end\" },\n  textIndent: AllFunctions.textIndent,\n  indent: AllFunctions.textIndent,\n};\n\nfunction grid(...args) {\n  args = args.map(a => {\n    if (!(typeof a === \"string\")) return a;\n    let m;\n    if (m = overflow(a))\n      return m;\n    // if (m = a.match(/(dense)-?(column|row|)/))\n    //   return { gridAutoFlow: `${m[1]} ${m[2] || \"row\"}` };\n    if (m = a.match(/^[abcsuvw.][abcsuvw.]?[abcs_.]?[abcs]?$/)) {\n      const [b, i = b, b2 = \".\", i2 = b2] = m[0];\n      return {\n        textAlign: TextAlignAliases[i2],\n        alignContent: AlignAliases[b],\n        justifyContent: AlignAliases[i],\n        alignItems: AlignAliases[b2],\n        justifyItems: AlignAliases[i2],\n      };\n    }\n    throw new ReferenceError(a);\n  });\n  return defaultLayout(\"grid\", ...args);\n}\nconst nativeGrid = Object.fromEntries(Object.entries(AllFunctions).filter(\n  ([k]) => k.match(/^grid[A-Z]/)));\ngrid.scope = {\n  placeContent: AllFunctions.placeContent,\n  justifyContent: AllFunctions.justifyContent,\n  alignContent: AllFunctions.alignContent,\n  placeItems: AllFunctions.placeItems,\n  justifyItems: AllFunctions.justifyItems,\n  alignItems: AllFunctions.alignItems,\n  ...nativeGrid,\n  cols: nativeGrid.gridTemplateColumns,\n  columns: nativeGrid.gridTemplateColumns,\n  rows: nativeGrid.gridTemplateRows,\n  areas: nativeGrid.gridTemplateAreas,\n  ...LAYOUT,\n  ...GAP,\n  //todo test this!!\n  column: { gridAutoFlow: \"column\" },\n  dense: { gridAutoFlow: \"dense row\" },\n  denseColumn: { gridAutoFlow: \"dense column\" },\n  denseRow: { gridAutoFlow: \"dense row\" },\n};\n\nconst column = (start, end = start) => ({ gridColumn: `${start} / ${end}` });\nconst row = (start, end = start) => ({ gridRow: `${start} / ${end}` });\nconst span = arg => `span ${arg}`;\ncolumn.scope = { span };\nrow.scope = { span };\n\nfunction _grid(...args) {\n  for (const a of args)\n    if (!(a instanceof Object))\n      throw new ReferenceError(a);\n  return Object.assign(...args);\n}\n_grid.scope = {\n  ..._LAYOUT,\n  column,\n  row,\n  placeSelf: AllFunctions.placeSelf,\n  justifySelf: AllFunctions.justifySelf,\n  alignSelf: AllFunctions.alignSelf,\n  // area: (...args) => ({ [\"grid-area\"]: args.join(\" \") }),\n  align: a => {\n    const m = a.match(/^[abcs_.][abcs_.]?$/)?.[0];\n    if (!m)\n      throw `$_grid|$align(${a}): \"${a}\" doesn't match /^[abcs_.][abcs_.]?$/`;\n    const [b, i = b] = m[0];\n    return {\n      textAlign: TextAlignAliases[i],\n      alignSelf: AlignAliases[b],\n      justifySelf: AlignAliases[i],\n    };\n  }\n};\n\n\n\n\nfunction flex(...args) {\n  args = args.map(a => {\n    if (!(typeof a === \"string\")) return a;\n    let m = overflow(a);\n    if (m) return m;\n    if (m = a.match(/^[abcsuvw.][abcsuvw.]?[abcs_]?$/)) {\n      const [b, i = b, i2 = \".\"] = m[0];\n      return {\n        textAlign: TextAlignAliases[i2],\n        alignContent: AlignAliases[b],\n        justifyContent: AlignAliases[i],\n        alignItems: AlignItemsFlexAliases[i2],\n      };\n    }\n    throw new ReferenceError(a);\n  });\n  return defaultLayout(\"flex\", ...args);\n}\nflex.scope = {\n  \"column\": { flexDirection: \"column\" },\n  \"column-reverse\": { flexDirection: \"column-reverse\" },\n  \"row-reverse\": { flexDirection: \"row-reverse\" },\n  \"row\": { flexDirection: \"row\" },\n  \"wrap\": { flexWrap: \"wrap\" },\n  \"wrap-reverse\": { flexWrap: \"wrap-reverse\" },\n  \"no-wrap\": { flexWrap: \"nowrap\" },\n  placeContent: AllFunctions.placeContent,\n  justifyContent: AllFunctions.justifyContent,\n  alignContent: AllFunctions.alignContent,\n  alignItems: AllFunctions.alignItems,\n  ...LAYOUT,\n  ...GAP\n};\nfunction _flex(...args) {\n  for (const a of args)\n    if (!(a instanceof Object))\n      throw new ReferenceError(a);\n  return Object.assign(...args);\n}\n\n_flex.scope = {\n  ..._LAYOUT,\n  basis: a => ({ flexBasis: a }),\n  grow: a => ({ flexGrow: a }),\n  g: a => ({ flexGrow: a }),\n  shrink: a => ({ flexShrink: a }),\n  s: a => ({ flexShrink: a }),\n  order: a => ({ order: a }),\n  o: a => ({ order: a }),\n  //todo safe\n  center: (...args) => (checkNoArgs(args), ({ alignSelf: \"center\", textAlign: \"center\" })),\n  end: (...args) => (checkNoArgs(args), ({ alignSelf: \"end\", textAlign: \"end\" })),\n  start: (...args) => (checkNoArgs(args), ({ alignSelf: \"start\", textAlign: \"start\" })),\n  stretch: (...args) => (checkNoArgs(args), ({ alignSelf: \"stretch\", textAlign: \"stretch\" })),\n  baseline: (...args) => (checkNoArgs(args), ({ alignSelf: \"baseline\", textAlign: \"unset\" })),\n  alignSelf: AllFunctions.alignSelf,\n  textAlign: AllFunctions.textAlign,\n};\n\nexport default {\n  block,\n  _block,\n  grid,\n  _grid,\n  flex,\n  _flex,\n};", "// import { Color } from \"./Color.js\";\nimport Natives from \"./func.js\";\n\nfunction gradient(role, color, onColor, steps = 10) {\n  if (!role || !color || !onColor)\n    throw \"Missing parameters\";\n\n  const alpha = new Array(10).fill(0).map((_, i) => (i + 1) * steps);\n  steps = new Array(10).fill(0).map((_, i) => (i + 1) * steps);\n\n  let res = { [`--color_${role}`]: color };\n  const res2 = Object.fromEntries(steps.map(i =>\n    [`--color_${role}${i}`, `color-mix(in oklch, ${color} ${100 - i}%, ${onColor} ${i}%)`]));\n  res = Object.assign(res, res2);\n\n  const alphaColors = Object.fromEntries(Object.entries(res).map(([name, color]) =>\n    alpha.map(a => [`${name}_a${a}`, `oklch(from ${color} l c h / ${a}%)`])\n  ).flat());\n  return { ...res, ...alphaColors };\n}\ngradient.scope = {\n  ...Natives.color.scope\n};\n\nfunction popGradient(name, color, onColor) {\n  const chromas = {\n    \"b3\": `calc(c * .25)`,\n    \"b2\": `calc(c * .5)`,\n    \"b1\": `calc(c * .75)`,\n    \"b\": `calc(c * .9)`,\n    \"p\": `calc(c * 1.1)`,\n    \"p1\": `calc(c * 1.25)`,\n    \"p2\": `calc(c * 1.5)`,\n    \"p3\": `calc(c * 2)`,\n  };\n  let res = gradient(name, color, onColor);\n  return Object.fromEntries(Object.entries(res).map(([name, c]) =>\n    chromas.entries().map(([p, pV]) =>\n      [`${name}_${p}`, `oklch(from var(--${c}) l ${pV} h)`])\n  ).flat());\n}\n// (function () {\n//   debugger\n//   gradient(\"primary\", \"darkred\", \"white\", 10);\n// })();\n\nexport default {\n  gradient,\n  popGradient,\n};\n", "import { Rule } from \"./Parser.js\";\nimport nativeAndMore from \"./func.js\";\nimport fonts from \"./font.js\";\nimport layouts from \"./layout.js\";\nimport gradients from \"./gradient.js\";\n// import colorPalette from \"./palette.js\";\n\nconst MEDIA_WORDS = {\n  progressive: \"scan: progressive\",\n  interlace: \"scan: interlace\",\n  dim: \"light-level: dim\",\n  normalLight: \"light-level: normal\",\n  washed: \"light-level: washed\",\n  reducedData: \"prefers-reduced-data: reduce\",\n  noReducedData: \"prefers-reduced-data: no-preference\",\n  noScript: \"scripting: none\",\n  initScript: \"scripting: initial-only\",\n  reloadScript: \"scripting: reload\",\n  stableScript: \"scripting: stable\",\n\n  dark: \"prefers-color-scheme: dark\",\n  light: \"prefers-color-scheme: light\",\n  noColorScheme: \"prefers-color-scheme: no-preference\",\n  portrait: \"orientation: portrait\",\n  landscape: \"orientation: landscape\",\n  highContrast: \"prefers-contrast: high\",\n  lowContrast: \"prefers-contrast: low\",\n  forcedContrast: \"prefers-contrast: forced\",\n  reducedTransparency: \"prefers-reduced-transparency: reduce\",\n  noReducedTransparency: \"prefers-reduced-transparency: no-preference\",\n  forcedColors: \"forced-colors: active\",\n  noForcedColors: \"forced-colors: none\",\n  invertedColors: \"inverted-colors: inverted\",\n  noInvertedColors: \"inverted-colors: none\",\n  p3: 'color-gamut: p3',\n  srgb: 'color-gamut: srgb',\n  rec2020: 'color-gamut: rec2020',\n  highDynamicRange: \"dynamic-range: high\",\n  standardDynamicRange: \"dynamic-range: standard\",\n  reducedMotion: \"prefers-reduced-motion: reduce\",\n  noReducedMotion: \"prefers-reduced-motion: no-preference\",\n  standalone: \"display-mode: standalone\",\n  fullscreen: \"display-mode: fullscreen\",\n  minimalUi: \"display-mode: minimal-ui\",\n  browser: \"display-mode: browser\",\n  windowControlsOverlay: \"display-mode: window-controls-overlay\",\n  pip: \"display-mode: picture-in-picture\",\n  slowUpdate: \"update: slow\",\n  fastUpdate: \"update: fast\",\n  noUpdate: \"update: none\",\n  hover: \"hover: hover\",\n  noHover: \"hover: none\",\n  coarsePointer: \"pointer: coarse\",\n  finePointer: \"pointer: fine\",\n  noPointer: \"pointer: none\",\n  grid: \"grid: 1\",\n  bitmap: \"grid: 0\",\n  anyHover: \"any-hover: hover\",\n  anyNoHover: \"any-hover: none\",\n  anyCoarsePointer: \"any-pointer: coarse\",\n  anyFinePointer: \"any-pointer: fine\",\n  anyNoPointer: \"any-pointer: none\",\n  anyGrid: \"any-grid: 1\",\n  anyBitmap: \"any-grid: 0\",\n  screen: \"screen\",\n  print: \"print\",\n  all: \"all\",\n}\n\n// todo make this work with @media.\n// | **overflow-block**       | `none`, `scroll`, `optional-paged`, `paged` | `@media (overflow-block: scroll) {\u2026}`\n// | **overflow-inline**      | `none`, `scroll`, `optional-paged`, `paged` | `@media (overflow-inline: none) {\u2026}`\nconst RENAME = {\n  \"overflow-block\": \"overflow-y\",\n  \"overflow-inline\": \"overflow-x\",\n};\n\nclass UpgradeRegistry {\n  #register = {};\n  #shorts = {}\n\n  constructor(dict) {\n    for (const [k, short] of Object.entries(dict))\n      this.registerShort(k, short);\n  }\n\n  waitFor(name, element, clazz) {\n    (this.#register[name] ??= []).push({ clazz, element: new WeakRef(element) });\n  }\n\n  enoughWaiting(name) {\n    let undone = this.#register[name];\n    if (!undone) return;\n    delete this.#register[name];\n    undone = undone.reduce((res, { clazz, element }) => {\n      element = element.deref();\n      element?.classList.contains(clazz) && res.push({ clazz, element });\n      return res;\n    }, []);\n    return undone.length ? undone : undefined;\n  }\n\n  registerShort(name, func) {\n    const [main, name2 = main] = name.split(\".\");\n    const table = name2 != main ? this.#shorts[main].scope ??= {} : this.#shorts;\n    if (name2 in table)\n      throw new Error(`Short name ${name} already exists`);\n    table[name2] = func;\n    this.rerun(name);\n  }\n\n  get shorts() {\n    return this.#shorts;\n  }\n\n  get medias() {\n    return MEDIA_WORDS;\n  }\n\n  registerMedia(name, txt) {\n    if (name in MEDIA_WORDS)\n      throw new Error(`Media name ${name} already exists`);\n    MEDIA_WORDS[name] = txt;\n    this.rerun(`@${name}`);\n  }\n\n  rerun(name) {\n    const todos = this.enoughWaiting(name);\n    if (!todos)\n      return;\n    const style = document.querySelector(\"style\");\n    const csss = new SheetWrapper(style.sheet);\n    for (const { clazz, element } of todos)\n      csss.addRule(clazz, element);\n  }\n}\n\nconst upgrades = new UpgradeRegistry({\n  ...nativeAndMore,\n  ...fonts,\n  ...gradients,\n  // ...colorPalette,\n  ...layouts,\n});\n\nconst parseCssShorts = (str) => Rule.interpret(str, upgrades, RENAME);\nconst registerShort = (name, func) => upgrades.registerShort(name, func);\nconst registerMedia = (name, txt) => upgrades.registerMedia(name, txt);\nregisterMedia(\"sm\", \"min-width:640px\");\nregisterMedia(\"md\", \"min-width:768px\");\nregisterMedia(\"lg\", \"min-width:1024px\");\nregisterMedia(\"xl\", \"min-width:1280px\");\nregisterMedia(\"xxl\", \"min-width:1536px\");\n\nclass SheetWrapper {\n  rules = {};\n\n  static getKey(r) {\n    return [r.parentRule?.media?.mediaText, r.selectorText].filter(Boolean).join(\" { \");\n  }\n\n  static layerMediaRules(layer) {\n    const res = new Map();\n    for (const a of layer.cssRules) {\n      if (a instanceof CSSMediaRule) {\n        for (const b of a.cssRules)\n          if (b instanceof CSSStyleRule)\n            res.set(SheetWrapper.getKey(b), b);\n      } else if (a instanceof CSSStyleRule)\n        res.set(SheetWrapper.getKey(a), a);\n    }\n    return res;\n  }\n\n  constructor(sheet) {\n    this.styleEl = sheet.ownerNode;\n    this.sheet = sheet;\n    this.items = this.setupLayer(\"items\", sheet);\n    this.container = this.setupLayer(\"container\", sheet);\n    this.setupStatement();\n  }\n\n  setupStatement() {\n    for (const r of this.sheet.cssRules)\n      if (r instanceof CSSLayerStatementRule && \"@layer container, items;\" === r.cssText.replaceAll(/\\s+/g, \" \"))\n        return;\n    this.sheet.insertRule(\"@layer container, items;\", 0);\n  }\n\n  setupLayer(name) {\n    for (const layer of this.sheet.cssRules)\n      if (layer instanceof CSSLayerBlockRule && layer.name === name)\n        return { layer, registry: SheetWrapper.layerMediaRules(layer) };\n    this.sheet.insertRule(`@layer ${name} {}`, 0);\n    return { layer: this.sheet.cssRules[0], registry: new Map() };\n  }\n\n  addRule(str, el) {\n    try {\n      const rule = Rule.interpret(str, upgrades, RENAME);\n      if (!rule) return;\n      const { layer, registry } = rule.item ? this.items : this.container;\n      const key = rule.key;\n      let ruleAndPos = registry.get(key);\n      if (!ruleAndPos) {\n        layer.insertRule(rule.rule, layer.cssRules.length);\n        ruleAndPos = { rule, css: layer.cssRules[layer.cssRules.length - 1], pos: layer.cssRules.length - 1 };\n        registry.set(key, ruleAndPos);\n      }\n      return ruleAndPos;\n    } catch (err) {\n      if (err instanceof ReferenceError)\n        return upgrades.waitFor(err.message, el, str);\n      throw err;\n    }\n  }\n\n  #isInUse(r) {\n    if (r instanceof CSSMediaRule) r = r.cssRules[0];\n    if (!(r instanceof CSSStyleRule)) return false;\n    const className = r.selectorText.match(/^\\.((\\\\.|[a-zA-Z0-9_-])+)/)?.[1].replaceAll(/\\\\(.)/g, \"$1\");\n    return className && this.styleEl.getRootNode().querySelector(`[class~=\"${className}\"]`);\n  }\n\n  #removeUnused(layer) {\n    for (let i = layer.cssRules.length - 1; i >= 0; i--)\n      if (!this.#isInUse(layer.cssRules[i]))\n        layer.deleteRule(i);\n  }\n\n  #cleanTask;\n  cleanup() {\n    this.#cleanTask ??= requestAnimationFrame(_ => {\n      this.#cleanTask = null;\n      this.#removeUnused(this.container.layer);\n      this.#removeUnused(this.items.layer);\n      this.sheet.ownerNode.textContent = [...this.sheet.cssRules].map(r => r.cssText).join('\\n\\n');\n      this.sheet = this.styleEl.sheet;\n      this.items = this.setupLayer(\"items\", this.sheet);\n      this.container = this.setupLayer(\"container\", this.sheet);\n    });\n  }\n}\n\nexport { SheetWrapper, registerShort, parseCssShorts, registerMedia };"],
  "mappings": "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",
  "names": ["MEDIA_WORDS", "clazz", "clashOrStack", "op", "transitionFunctionSet", "block", "color", "name", "clazz"]
}
